{"version":3,"sources":["components/UnitSelector/Unit.js","components/UnitSelector/UnitSelector.js","components/Attacker/Damage.js","components/Attacker/Attacker.js","components/Defender.js","components/Upgrade.js","components/Middle.js","App.js","components/dashboard/Dashboard.js","index.js"],"names":["Unit","props","unit","unitCard","className","name","style","display","minWidth","minHeight","children","inlineStyle","img","backgroundSize","backgroundRepeat","backgroundPosition","backgroundImage","UnitImg","label","factions","terran","icon","production","barracks","factory","starport","zerg","protoss","roboticsFacility","camel2str","str","result","replace","charAt","toUpperCase","slice","RandomButton","button","randomize","randomText","onClick","ResetButton","setUnit","ButtonGroup","randomizeUnit","showUnits","subUnits","currentUnit","classes","map","index","tmpClasses","join","Production","structure","path","units","React","useState","hidden","setHidden","filter","Faction","data","height","Object","entries","FactionFlipper","showFactions","UnitSelector","showTags","tags","setTags","setShowFactions","searchText","setSearchText","inputText","type","placeholder","onChange","e","target","value","toggleTagging","includes","item","Tag","tag","highlight","cns","push","inputArea","arr","Math","floor","random","length","toggle","types","reset","absent","forEach","toLowerCase","fontSize","textAlign","key","intersection","a","b","setA","Set","setB","x","has","Array","from","canAttackTargetDefender","attack","defender","targets","Damage","attacker","research","guardian","totalDamage","def","att","base","shields","damageInflicted","armorDefense","eliminate","newValues","oneShot","count","health","JSON","parse","stringify","armor","faked","log","results","undefined","weapon","damageSum","i","repeats","console","d","damage","overkill","toFixed","attackResearch","shieldsResearch","armorResearch","this","Spell","Hallucinated","Corrupted","Hardened","Prismatic","bonusDamage","bonuses","bonus","to","reduce","total","amount","baseDamage","researchBonus","damageDealt","defenseAvailable","defenseApplied","damageReceived","damageCapped","min","max","AttackerErrorBoundary","state","error","errorInfo","setState","whiteSpace","toString","componentStack","Component","Bonus","textstyle","modifier","baseText","bonusText","textDecoration","Bullet","animate","Attacks","setAttackingWeapon","Attack","available","selected","attacks","attackMap","Attacker","setAttacker","Defender","researchSrcs","Upgrade","researchKind","updateResearch","incrementByAmount","decrement","increment","aria-label","animateValidAttacks","cname","keep","document","getElementsByClassName","elem","classList","add","remove","validAttacks","validAttackExists","DPS","doubleReroll","text","setDefender","flexDirection","position","updateHealth","newDefender","find","Vitality","shieldResearch","healthColor","setAttribute","val","attr","newBase","parseInt","useEffect","UpdateAttr","updater","followup","holderValue","setHolderValue","editing","setEditing","newStyle","justifyContent","width","border","padding","armorResearchImg","color","AllUpgrades","setAttackResearch","setShieldsResearch","setArmorResearch","targetable","attackerDamage","Middle","large","backup","shieldresearch","opacity","App","setShieldsResearch1","setArmorResearch1","setAttackResearch1","autoSelected","setAutoSelected","checkAgain","response","setResponse","locked","setLocked","apiURL","URL","fetch","then","res","json","catch","err","getUnits","useUnits","loadingUnits","setUnits","setWindowWidth","updateDimensions","window","innerWidth","addEventListener","removeEventListener","equipWeapon","ainfo","middle","dinfo","Dashboard","Userfront","init","SignupForm","build","toolId","Purpose","href","ReactDOM","render","StrictMode","getElementById"],"mappings":"wYAiCaA,EAAO,SAACC,GACnB,IAAMC,EAAOD,EAAMC,KAEbC,EAAWD,EAAM,sBAAKE,UAAW,YAAhB,UACf,qBAAKA,UAAW,YAAhB,SAA8BF,EAAKG,OACnC,sBAAKC,MAAO,CAACC,QAAS,QAAtB,UACE,qBAAKD,MAAO,CAACE,SAAS,QAASC,UAAU,SAAzC,SAAmD,cAAC,EAAD,CAASP,KAAMA,MAClE,qBAAKE,UAAW,aAAhB,SACCH,EAAMS,iBAIX,KAEN,OAAO,mCAAGP,KAKCQ,EAAc,SAACC,GAC1B,MAAO,CACLC,eAAgB,UAChBC,iBAAkB,YAClBC,mBAAoB,QACpBC,gBAAgB,OAAD,OAAUJ,EAAV,KACfJ,SAAU,SAGDS,EAAU,SAAC,GAAmB,IAAlBf,EAAiB,EAAjBA,KAAMgB,EAAW,EAAXA,MAC7B,OAAO,qBAAKZ,MAAOK,EAAYT,EAAKU,KAAMR,UAAW,WAA9C,SACL,qBAAKA,UAAW,iBAAhB,SAAkC,6BAAKc,SCzDrCC,G,MAAW,CACfC,OAAQ,CACNC,KAAM,cACNC,WAAY,CACVC,SAAU,gBACVC,QAAS,eACTC,SAAU,kBAGdC,KAAM,CACJL,KAAM,gBACNC,WAAY,IAIdK,QAAS,CACPN,KAAM,cACNC,WAAY,CACVM,iBAAkB,gBAIlBC,EAAY,SAACC,GAEjB,IAAMC,EAASD,EAAIE,QAAQ,WAAW,OAItC,OADcD,EAAOE,OAAO,GAAGC,cAAcH,EAAOI,MAAM,IAI/CC,EAAe,SAAC,GAAuC,IAC9DC,EADwB9B,EAAqC,EAArCA,QAAS+B,EAA4B,EAA5BA,UAAWC,EAAiB,EAAjBA,WAWhD,OAPEF,EADC9B,EACQ,sBAAMiC,QAAS,kBAAMF,KAArB,SACIC,GAAc,sDAGlB,gDAGJ,qBAAKnC,UAAW,gBAAhB,SACFiC,KAIDI,EAAc,SAAC,GAAoB,EAAnBvC,KAAoB,IAAdwC,EAAa,EAAbA,QAC5B,OAAO,qBAAKtC,UAAW,eAAgBoC,QAAS,kBAAME,EAAQ,OAAvD,qBAKDC,EAAc,SAAC,GAA6C,IAA5CzC,EAA2C,EAA3CA,KAAMwC,EAAqC,EAArCA,QAASE,EAA4B,EAA5BA,cAAerC,EAAa,EAAbA,QAClD,OAAO,sBAAKH,UAAW,eAAhB,UACL,cAAC,EAAD,CAAcG,QAASA,EAAS+B,UAAWM,IAC1C1C,EAAO,cAAC,EAAD,CAAawC,QAASA,IAAc,SAI1CG,EAAY,SAACC,EAAUC,EAAaL,GACxC,IAAMM,EAAU,CAAC,kBACjB,OAAOF,EAASG,KAAI,SAAC/C,EAAKgD,GACxB,IAAIC,EAAaH,EAOjB,OALEG,GADa,OAAXJ,QAAW,IAAXA,OAAA,EAAAA,EAAa1C,QAASH,EAAKG,KACnB,UAAO2C,EAAP,CAAgB,gBAEbA,EAGR,qBACKR,QAAS,kBAAME,EAAQxC,IACvBE,UAAW+C,EAAWC,KAAK,KAC3B9C,MAAOK,EAAYT,EAAKU,KAH7B,SAIL,iCAAQ,6BAAKV,EAAKG,UAJH6C,OASfG,EAAa,SAAC,GAA6C,IAA5CC,EAA2C,EAA3CA,UAAWC,EAAgC,EAAhCA,KAAMC,EAA0B,EAA1BA,MAAOtD,EAAmB,EAAnBA,KAAMwC,EAAa,EAAbA,QAAa,EAClCe,IAAMC,UAAS,GADmB,mBACvDC,EADuD,KAC/CC,EAD+C,KAExDd,EAAWU,EAAQA,EAAMK,QAAO,SAAA3D,GAAI,OAAIA,EAAKoD,YAAcA,KAAa,KAE1E/C,EAAUoD,EAAQ,6BACpB,qBAAKvD,UAAW,iBAAhB,SAAmCyC,EAAUC,EAAU5C,EAAMwC,KAE/D,OAAIc,EAEG,gCACH,qBAAKpD,UAAW,sBAAuBE,MAAOK,EAAY4C,GAAOf,QAAS,kBAAMoB,GAAWD,IAA3F,SACE,iCAAQ,6BAAK9B,EAAUyB,SAGzB,8BAAM/C,OAPQ,MAWduD,EAAU,SAAC,GAAkC,IAAjCC,EAAgC,EAAhCA,KAAMP,EAA0B,EAA1BA,MAAOtD,EAAmB,EAAnBA,KAAMwC,EAAa,EAAbA,QAAa,EACpBe,IAAMC,UAAS,GADK,mBACzCC,EADyC,KACjCC,EADiC,KAGhD,OAAO,gCAEL,sBAAKpB,QAAS,kBAAMoB,GAAWD,IAA/B,UACE,wBACA,qBAAKrD,MAAK,2BAAMK,EAAYoD,EAAK1C,OAAvB,IAA8B2C,OAAO,QACnDjD,mBAAoB,cAEf4C,EAAS,KACV,8BAEIM,OAAOC,QAAQH,EAAKzC,YAAY2B,KAAI,YAAwB,IAAD,mBAArBK,EAAqB,KAAVC,EAAU,KACzD,OAAO,cAAC,EAAD,CAEGD,UAAWA,EACXC,KAAMA,EACNC,MAAOA,EACPtD,KAAMA,EACNwC,QAASA,GALJY,YAarBa,EAAiB,SAAC,GACtB,OAD0C,EAAlBC,aAEf,oBAEA,qBAIEC,EAAe,SAACpE,GAAW,IAAD,EACW,CAACA,EAAMyC,QAASzC,EAAM8C,YAAa9C,EAAMuD,MAAOvD,EAAMqE,UAA/F5B,EAD8B,KACrBK,EADqB,KACRS,EADQ,KACDc,EADC,OAGbb,IAAMC,SAAS,IAHF,mBAG9Ba,EAH8B,KAGxBC,EAHwB,OAIGf,IAAMC,UAAS,GAJlB,mBAI9BU,EAJ8B,KAIhBK,EAJgB,OAKDhB,IAAMC,SAAS,IALd,mBAK9BgB,EAL8B,KAKlBC,EALkB,KAM/BC,EAAY,uBAAOxE,UAAW,cAAeyE,KAAM,SAAUC,YAAa,eAAgBC,SAAU,SAACC,GAAD,OAAOL,EAAcK,EAAEC,OAAOC,QAAQA,MAAOR,IAWjJS,EAAgB,SAACN,GAClBN,EAAKa,SAASP,GACfL,EAAQD,EAAKV,QAAO,SAAAwB,GAAI,OAAIA,IAASR,MAErCL,EAAQ,GAAD,mBAAKD,GAAL,CAAWM,MAIhBS,EAAM,SAAC,GAAsB,IAArBC,EAAoB,EAApBA,IAAKC,EAAe,EAAfA,UACXC,EAAM,CAAC,oBAEb,OADAA,EAAIC,KAAKF,GAAajB,EAAKa,SAASG,GAAO,WAAa,IACjD,qBAAKnF,UAAWqF,EAAIrC,KAAK,KAAgBZ,QAAS,kBAAM2C,EAAcI,IAAtE,SAA6EA,GAAzCA,IAGvCI,EAAY,gCAChB,sBAAKvF,UAAW,aAAhB,UAA+BwE,EAA/B,IAA0C,cAAC,EAAD,CAAarE,QAASiD,EAAOtD,KAAM6C,EAAaL,QAASA,EAASE,cAnBxF,WAJA,IAACgD,EAKrBlD,GALqBkD,EAKCpC,GAJXqC,KAAKC,MAAMD,KAAKE,SAASH,EAAII,gBAuBxC,sBAAK5F,UAAW,oBAAhB,UACGmE,EAAKtB,KAAI,SAAAsC,GAAG,OAAI,cAACD,EAAD,CAAeC,IAAKA,EAAKU,OAAQd,GAAvBI,MAC1BhB,EAAKyB,OAAS,EAAI,oBAAI5F,UAAW,aAAcoC,QAAS,kBAAMgC,EAAQ,KAApD,0BAAmE,QAExF,gCACE,cAAC,EAAD,CAAMtE,KAAM6C,EAAaL,QAASA,EAAlC,SACG,qBAAKtC,UAAW,aAAhB,SACIkE,IAAQ,OAAIvB,QAAJ,IAAIA,OAAJ,EAAIA,EAAamD,MAAMjD,KAAK,SAAEsC,EAAKrC,GACxC,OAAO,cAACoC,EAAD,CAAeC,IAAKA,EAAKU,OAAQd,EAAeK,WAAW,GAAjDD,WAI1BtF,EAAMS,eAIX,GAAG8C,EAAM,CACP,IAAM2C,EAAQ,qBAAK/F,UAAW,gBAAiBoC,QAAS,WAAOgC,EAAQ,IAAKG,EAAc,KAA5E,SAAkF,mDAEhG,GAAGD,EAAWsB,OAAS,GAAKzB,EAAKyB,OAAS,EAAE,CAC1C,IAAIlD,EAAWU,EAAMK,QAAO,SAAA3D,GAC1B,IAAIkG,GAAS,EAMb,OALA7B,EAAK8B,SAAQ,SAAAd,GACPrF,EAAKgG,MAAMd,SAASG,KACtBa,GAAS,OAGLA,KACPvC,QAAO,SAAA3D,GAAI,OAAIA,EAAKG,KAAKiG,cAAclB,SAASV,EAAW4B,kBAC9D,OAAO,qCACP,mCAAGX,IAEA9C,EAAUC,EAAUC,EAAaL,GAASsD,OAAQ,EAAI,qCAAE,oBAAI1F,MAAO,CAACiG,SAAU,OAAtB,+BAAqD1D,EAAUC,EAAUC,EAAaL,GAAxF,OAAuG,6BAC7JyD,KAGH,OAAO,qCACJR,EACD,qBAAKnD,QAAS,kBAAMiC,GAAiBL,IAAehE,UAAW,WAAYE,MAAO,CAACkG,UAAU,SAAUD,SAAS,SAAhH,SAA0H,cAACpC,EAAD,CAAgBC,aAAcA,MACrJA,EACGH,OAAOC,QAAQ/C,GAAU8B,KAAK,YAAmB,IAAD,mBAAhBwD,EAAgB,KAAXvB,EAAW,KAChD,OACE,qBAAe9E,UAAW,UAA1B,SACE,cAAC,EAAD,CAAS2D,KAAMmB,EAAOhE,MAAOuF,EAAKjD,MAAOA,EAAOtD,KAAM6C,EAAaL,QAASA,KADpE+D,MAIT,QAKb,MAAO,WC3NX,SAASC,EAAaC,EAAGC,GACvB,IAAIC,EAAO,IAAIC,IAAIH,GACfI,EAAO,IAAID,IAAIF,GACfF,EAAe,IAAII,IAAI,YAAID,GAAMhD,QAAO,SAAAmD,GAAC,OAAID,EAAKE,IAAID,OAC1D,OAAOE,MAAMC,KAAKT,GAIb,IAAMU,EAA0B,SAACC,EAAQC,GAC9C,SAAGD,IAAUC,IACKZ,EAAaA,EAAaW,EAAOE,QAASD,EAASpB,OAAQ,CAAC,SAAU,QACvEF,OAAS,GAOfwB,EACX,WAAaC,EAAUH,EAAUI,GAAuB,IAAD,OAAZC,EAAY,uDAAH,EAClD,GADqD,yBA4EzDC,YAAc,WACZ,IAAMC,EAAM,EAAKA,IACXC,EAAM,EAAKA,IAEjB,OAAGD,EAAIE,KAAKC,QAAU,GAAK,EAAKC,gBAAgBH,EAAKD,GAAOA,EAAIE,KAAKC,QAAU,EAAKE,aAAaL,GACxF,EAAKI,gBAAgBH,EAAKD,GAAK,EAAKK,aAAaL,GAEjD,EAAKI,gBAAgBH,EAAKD,IAnFoB,KAwFzDM,UAAY,WACV,IAAIC,EAAY,EAAKC,UACrB,IAAID,EAAW,OAAO,EAEtB,IADA,IAAIE,EAAQ,GACG,QAAT,EAAAF,SAAA,eAAWG,QAAS,GAAE,CAAC,IAAD,EAGxB,GAFFD,IAEKF,EAAU,CACX,IAAMd,EAAQ,2BACT,EAAKO,KADI,IAEZE,KAAK,2BACA,EAAKF,IAAIE,MADV,IAEFQ,OAAQH,EAAUG,OAClBP,QAASI,EAAUJ,YAMvBI,EAHW,IAAIZ,EAAO,EAAKM,IACzBU,KAAKC,MAAMD,KAAKE,UAAUpB,IAC1B,CAAE,EAAKI,SAASL,OAAQ,EAAKK,SAASM,QAAS,EAAKN,SAASiB,QAClDN,WAIjB,OAAOC,GA/G8C,KAmHzDD,QAAU,WAAiB,IACrBP,EAASD,EADJe,IAAe,yDAErBA,GACDd,EAAMU,KAAKC,MAAMD,KAAKE,UAAU,EAAKZ,MACrCD,EAAMW,KAAKC,MAAMD,KAAKE,UAAU,EAAKb,QAErCC,EAAM,EAAKA,IACXD,EAAM,EAAKA,KAGb,IACIgB,EADAC,EAAU,KAGd,QAAkBC,IAAfjB,EAAIkB,SAAyBnB,EAC9B,MAAO,+CACP,IAAIT,EAAwBU,EAAIkB,OAAQnB,GACxC,MAAO,cAET,GAAGA,EAAIE,KAAKQ,OAAS,EAGnB,IAFA,IAAIU,EAAU,EAENC,EAAI,EAAGA,EAAIpB,EAAIkB,OAAOG,QAASD,IAAI,CAAC,IAAD,EACzCE,QAAQP,IAAI,mBAAoBf,EAAIkB,QACpC,IAAMK,EAAK,IAAI7B,EAAOM,EACpBU,KAAKC,MAAMD,KAAKE,UAAUb,IAC1B,CAAE,EAAKH,SAASL,OAAQ,EAAKK,SAASM,QAAS,EAAKN,SAASiB,QAC3DW,EAASD,EAAEzB,cAef,IAdG,UAAAC,EAAIE,YAAJ,eAAUC,SAAU,EAClBsB,GAAUzB,EAAIE,KAAKC,SACpBH,EAAIE,KAAKC,SAAWsB,EACpBT,EAAG,UAAMS,EAAN,yBAA6BzB,EAAIE,KAAKC,QAAtC,iBAEHH,EAAIE,KAAKC,QAAU,EACnBH,EAAIE,KAAKQ,QAAUe,EAASzB,EAAIE,KAAKC,QACrCa,EAAG,UAAMS,EAAN,qCAAyCzB,EAAIE,KAAKQ,OAAlD,wBAGLV,EAAIE,KAAKQ,QAAUe,EACnBT,EAAG,UAAMS,EAAN,qBAAyBzB,EAAIE,KAAKQ,OAAlC,SAELU,GAAaK,EACVzB,EAAIE,KAAKQ,OAAS,EAAE,CACrB,IAAMgB,GAAY,KAAK1B,EAAIE,KAAKQ,OAAOU,GAAWO,QAAQ,GAC1DX,GAAG,YAASU,EAAT,oBAELT,EAAW,CAACP,OAAQV,EAAIE,KAAKQ,OAAQP,QAASH,EAAIE,KAAKC,QAASJ,YAAaqB,EAAWJ,IAAKA,GAIjG,OADAO,QAAQP,IAAI,UAAWC,GAChBA,IAnKDrB,IAAaH,EAAU,OAAO,KADmB,kBAGEI,EAHF,GAGhD+B,EAHgD,KAGhCC,EAHgC,KAGfC,EAHe,KAIvDC,KAAKlC,SAAW,CACdL,OAAQoC,EACRd,MAAOgB,EACP3B,QAAS0B,GAGXE,KAAK9B,IAAMU,KAAKC,MAAMD,KAAKE,UAAUjB,IACrCmC,KAAK/B,IAAMW,KAAKC,MAAMD,KAAKE,UAAUpB,IAErC,IAAIuC,EAAQ,EACRC,EAAe,EACfC,EAAY,EACZC,EAAW,IACXC,EAAY,EAEhBL,KAAKM,YAAc,WACjB,OAAO,EAAKpC,IAAIkB,OAAOmB,QAAQtG,QAAO,SAAAuG,GAAK,OAAI,EAAKvC,IAAI3B,MAAMd,SAASgF,EAAMC,OAAKC,QAAO,SAACC,EAAOC,GAC/F,OAAOD,EAAMC,EAAOC,WAAWD,EAAOE,cAAc,EAAKhD,SAASL,SACjE,IAGLuC,KAAKe,YAAc,WAAO,IAAD,EACjBtD,EAAM,UAAG,EAAKS,WAAR,aAAG,EAAUkB,OACzB,OAAG,EAAKlB,KAAO,EAAKD,KAAOR,EAEvBA,EAAOoD,WACP,EAAK/C,SAASL,OAAOA,EAAOqD,cAC5B,EAAKR,cAGA,IAIXN,KAAK1B,aAAe,WAClB,OAAO,EAAKL,IAAIE,KAAKY,MAAQ,EAAKjB,SAASiB,OAG7CiB,KAAKgB,iBAAmB,WAAO,IAAD,EAC5B,OAAG,YAAK/C,IAAIE,YAAT,eAAeC,SAAU,EACnB,EAAKN,SAASM,QAEd,EAAKE,aAAa,EAAKL,MAIlC+B,KAAKiB,eAAiB,WACpB,OAAO,EAAKD,mBAAmBf,GAAO,EAAEC,IAG5CF,KAAKkB,eAAiB,WAClB,OAAO,EAAKH,cAAcZ,EAAUD,EAAaG,EAAY,EAAKY,kBAIpEjB,KAAKmB,aAAe,SAACjD,EAAKD,GACxB,OAAOhC,KAAKmF,IACV,EAAKF,eAAehD,EAAKD,GACzBmC,EAASD,EAAUD,EAAa,KAAK,EAAED,KAI3CD,KAAK3B,gBAAkB,SAACH,EAAKD,GAC3B,OAAOhC,KAAKoF,IACV,GACA,EAAKF,aAAajD,EAAKD,GAAOF,KCvF9BuD,G,wDACJ,WAAYjL,GAAQ,IAAD,8BACjB,cAAMA,IACDkL,MAAQ,CAAEC,MAAO,KAAMC,UAAW,MAFtB,E,qDAKnB,SAAkBD,EAAOC,GAEvBzB,KAAK0B,SAAS,CACZF,MAAOA,EACPC,UAAWA,M,oBAKf,WACE,OAAIzB,KAAKuB,MAAME,UAGX,gCACE,uDACA,0BAAS/K,MAAO,CAAEiL,WAAY,aAA9B,UACG3B,KAAKuB,MAAMC,OAASxB,KAAKuB,MAAMC,MAAMI,WACtC,uBACC5B,KAAKuB,MAAME,UAAUI,qBAMvB7B,KAAK3J,MAAMS,a,GA9Bc+C,IAAMiI,YAmCpCC,EAAQ,SAAC,GAAmC,IAAlCtE,EAAiC,EAAjCA,OAAQC,EAAyB,EAAzBA,SAAUsE,EAAe,EAAfA,UAEhC,OAAOvE,EAAO8C,QAAQlH,KAAI,SAACmH,EAAOlH,GAChC,IAEI2I,EAFAC,EAAW,6CAAQ1B,EAAMC,GAAd,OACX0B,EAAY,qCAAG3B,EAAMK,WAAT,MAAwBL,EAAMM,cAA9B,OAkBhB,OAPMmB,EARFvE,EAOIA,EAASpB,MAAMd,SAASgF,EAAMC,IACrB,iCAAO0B,EAAP,mBAED,sBAAMzL,MAAO,CAAC0L,eAAgB,yBAA9B,SAA0DD,IAT7D,+BAAOA,IAcb,gCACJD,EACD,sBAAM1L,UAAWwL,EAAjB,SACCC,MAHc3I,OASf+I,EAAS,SAAC,GAAwB,IAAvBC,EAAsB,EAAtBA,QACf,OADqC,EAAb3L,QAElB2L,EACK,sBAAM9L,UAAW,SAAjB,oBAEA,8CAGF,8BA+BL+L,EAAU,SAAC,GAA8C,IAA7C1E,EAA4C,EAA5CA,SAAUH,EAAkC,EAAlCA,SAAU8E,EAAwB,EAAxBA,mBACpC,IAAI3E,EAAU,OAAO,KACrB,IAAM4E,EAAS,SAAC,GAAmC,IAAD,EAAjChF,EAAiC,EAAjCA,OAAQiF,EAAyB,EAAzBA,UAAWC,EAAc,EAAdA,SAC5B9G,EAAM,GACZA,EAAIC,MAAa,OAAR+B,QAAQ,IAARA,GAAA,UAAAA,EAAUuB,cAAV,eAAkB3I,SAAlB,OAA2BgH,QAA3B,IAA2BA,OAA3B,EAA2BA,EAAQhH,MAAO,cAAgB,gBACnEoF,EAAIC,KAAK4G,EAAY,mBAAqB,sBAC1C,IAAME,EAAU,CAAC,eAIjB,OAHAA,EAAQ9G,KAAK4G,EAAW,aAAc,eACtCE,EAAQ9G,KAAK4G,IAAe7E,EAASuB,OAAkB,GAAT,UAC9CI,QAAQP,IAAI,UAAW2D,GAChB,qBAAKhK,QAAS,kBAAM4J,EAAmB/E,IAASjH,UAAWqF,EAAIrC,KAAK,KAApE,SACL,mCACE,sBAAKhD,UAAWoM,EAAQpJ,KAAK,KAA7B,UACE,cAAC,EAAD,CAAQ8I,QAASM,EAAQpH,SAAS,SAAU7E,SAAU,IACjD8G,EAAOhH,KAFd,IAEqBgH,EAAO8B,QAAU,EAAI,2CAAM9B,EAAO8B,QAAb,OAA2B,KACpEoD,EACC,gCACE,qDAAe,uBAAMnM,UAAWoM,EAAQpH,SAAS,SAAW,SAAW,GAAxD,UAA6DiC,EAAOoD,WAApE,MAAmFpD,EAAOqD,cAA1F,UACf,cAAC,EAAD,CAAOrD,OAAQA,EAAQC,SAAUA,EAAUsE,UAAW,cAEtD,aAOJa,EAAS,OAAIhF,QAAJ,IAAIA,OAAJ,EAAIA,EAAU+E,QAAQvJ,KAAI,SAACoE,GACxC,IAAMiF,EAAYlF,EAAwBC,EAAQC,GAClD,OAAO,8BAAuB,cAAC+E,EAAD,CAAQhF,OAAQA,EAAQiF,UAAWA,EAC1CC,SAAUlF,IAAWI,EAASuB,UADpC3B,EAAOhH,SAM1B,OAAO,sBAAKD,UAAW,UAAhB,UACL,6BAEAqH,EAAS+E,QAAQxG,OAAS,EAAI,UAAY,aACvCyB,EAAUgF,EAAY,SAIhBC,EAAW,SAAC,GAA8C,IAA7CjF,EAA4C,EAA5CA,SAAUH,EAAkC,EAAlCA,SAAUqF,EAAwB,EAAxBA,YAAanJ,EAAW,EAAXA,MAgBzD,OAAO,cAAC,EAAD,UACP,cAAC,EAAD,CAAcd,QAASiK,EAAa5J,YAAa0E,EAAUjE,MAAOA,EAAlE,SACI,cAAC,EAAD,CAASiE,SAAUA,EACnB2E,mBAjBuB,SAACpD,GAY1B,OAXCA,IAAWvB,EAASuB,OACnB2D,EAAY,2BACPlF,GADM,IAETuB,OAAQA,KAGV2D,EAAY,2BACPlF,GADM,IAETuB,OAAQ,QAGL,MAML1B,SAAUA,SC1KHsF,EAAW,SAAC,GAA4B,IAA3B1M,EAA0B,EAA1BA,KAAMwC,EAAoB,EAApBA,QAASc,EAAW,EAAXA,MACrC,OAAO,cAAC,EAAD,CAAcd,QAASA,EAASK,YAAa7C,EAAMsD,MAAOA,EAAOc,UAAU,KCChFuI,G,MAAe,CACnBxF,OAAQ,cACRsB,MAAO,aACPX,QAAS,gBAGE8E,EAAU,SAAC,GAA0C,IAAzCC,EAAwC,EAAxCA,aAAc7H,EAA0B,EAA1BA,MAAO8H,EAAmB,EAAnBA,eACtCC,EAAoB,SAACzC,GACzBwC,EAAe9H,EAAQsF,IAGzB,GAAa,OAAVtF,EACD,OAAO,6BAGT,IAAMgI,EAAYhI,EAAQ,EAAI,aAAe,SACvCiI,EAAYjI,EAAQ,GAAK,aAAe,SAE9C,OAAO,qCACP,qBAAK9E,UAAW,WAAhB,SACE,qBAAKA,UAAW,cAAhB,SAEE,sBAAKA,UAAW,eAAgBE,MAAK,2BAAMK,EAAYkM,EAAaE,KAA/B,IAA+ChM,mBAAoB,WAAxG,UACA,qBACEqM,aAAW,kBACX5K,QAAS,kBAAOyK,EAAkB,IAClC7M,UAAW+M,EAHb,wBAKE,6BAAKjI,IAEL,qBACEkI,aAAW,kBACX5K,QAAS,kBAAOyK,GAAmB,IACnC7M,UAAW8M,EAHb,8BAZC,QChBHG,G,MAAsB,SAACC,EAAOC,GAClCrG,MAAMC,KAAKqG,SAASC,uBAAuBH,IAAQjH,SAAQ,SAAAqH,GACtDH,EACDG,EAAKC,UAAUC,IAAI,SAEnBF,EAAKC,UAAUE,OAAO,cAMtBC,EAAe,SAACrG,EAAUH,GAC9B,cAAOG,QAAP,IAAOA,OAAP,EAAOA,EAAU+E,QAAQ3I,QAAO,SAAAwD,GAC9B,OAAOD,EAAwBC,EAAQC,OAIrCyG,EAAoB,SAACtG,EAAUH,GACnC,OAAOwG,EAAarG,EAAUH,GAAUzD,QAAO,SAAAwB,GAAI,OAAIA,KAAMW,OAAS,GAIlEgI,EAAM,SAAC,GAA4G,IAMnHC,EACAC,EAIoD,EAX5CzG,EAA0G,EAA1GA,SAAUH,EAAgG,EAAhGA,SAAWmC,EAAqF,EAArFA,eAAgBC,EAAqE,EAArEA,gBAAiBC,EAAoD,EAApDA,cAAewE,EAAqC,EAArCA,YAAaxB,EAAwB,EAAxBA,YAAanJ,EAAW,EAAXA,MACvG6F,EAAI,IAAI7B,EAAOC,EAAUH,EAAU,CAAEmC,EAAgBC,EAAiBC,IAEpElE,EAAM,CAAC,WADU,OAARgC,QAAQ,IAARA,OAAA,EAAAA,EAAUuB,SAAU1B,GAOjC7B,EAAIC,KAAK,UACT2H,EAAoB,cAAc,GAC/BjG,EAAwBK,EAASuB,OAAQ1B,IAC1C,UAAG+B,SAAH,aAAG,EAAGhB,YACJe,QAAQP,IAAI,UAAWQ,EAAEhB,WACzB6F,EAAO,sBAAK5N,MAAO,CAACC,QAAS,OAAQ6N,cAAc,UAA5C,UAAuD,qBAAK9N,MAAO,CAACiG,SAAS,SAAtB,qBAAvD,IAAqG,gDAAS8C,EAAEhB,UAAUT,YAArB,uBAE5GsG,EAAO,wDAGTA,EAAK,qCAAGzG,EAASuB,OAAO3I,KAAnB,kBAAwCiH,EAASjH,QACtDoF,EAAIC,KAAK,cAGP+B,GAAYH,GACd7B,EAAIC,KAAK,YACNqI,EAAkBtG,EAAUH,IACvB8B,QAAQP,IAAI,cAAeiF,EAAarG,EAAUH,IAClD4G,EAAO,gEACPzI,EAAIC,KAAK,SACT2H,EAAoB,cAAc,KAExC5H,EAAIC,KAAK,WACTwI,EAAO,qCAAGzG,EAASpH,KAAZ,iBAAgCiH,EAASjH,QAChD4N,GAAa,KAIfxI,EAAIC,KAAK,WACJ+B,GAAaH,GAAW7B,EAAIC,KAAK,SACtCwI,EAAM,gCACK,2CACD,8BAAOzG,EAA+L,KAApL,sBAAKrH,UAAW,eAAhB,UAAgC,cAAC,EAAD,CAAcG,QAASiD,EAAOlB,UAAW,kBAAMqK,EAAYnJ,EAAMqC,KAAKC,MAAMD,KAAKE,SAASvC,EAAMwC,WAAWzD,WAAY,kCAAvJ,UAClB,8BAAO+E,EAAqN,KAA3M,sBAAKlH,UAAW,eAAhB,UAAgC,cAAC,EAAD,CAAcG,QAASiD,EAAO6K,SAAUF,EAAa7L,UAAW,kBAAM6L,EAAY3K,EAAMqC,KAAKC,MAAMD,KAAKE,SAASvC,EAAMwC,WAAWzD,WAAY,kCAA9K,aAK/B,IAMM+L,EAAe,WACnB,GAAI7G,GAAaH,EAAjB,CACA,IAAIc,EAAYiB,EAAEhB,UACdkG,EAAcjH,EAClB,GAAGc,GAAaX,EAASuB,OAAO,CAC9B,IAAI,IAAIE,EAAI,EAAGA,EAAIzB,EAASuB,OAAOG,QAASD,IAAI,CAE5C,IAAId,EAAYiB,EAAEhB,UACfD,IACDmG,EAAW,2BACNA,GADM,IAETxG,KAAK,2BACAwG,EAAYxG,MADb,IAEFQ,OAAQH,EAAUG,OAClBP,QAASI,EAAUJ,aAIzBqB,EAAI,IAAI7B,EAAOgB,KAAKC,MAAMD,KAAKE,UAAUjB,IACzCe,KAAKC,MAAMD,KAAKE,UAAU6F,IAC1B,CAAE9E,EAAgBC,EAAiBC,IAIxCwE,EAAYI,QA7Bb,OAAGjH,QAAH,IAAGA,OAAH,EAAGA,EAAUjH,OACZ8N,EAAY3K,EAAMgL,MAAK,SAAAtO,GAAI,OAAIA,EAAKG,OAASiH,EAASjH,WA4DzD,OAAO,sBAAKD,UAAW,MAAhB,UACG,8BAAK,sBAAMA,UAAWqF,EAAIrC,KAAK,KAAMZ,QA3B9B,WACf,GAAGiF,EAED,GADA2B,QAAQP,IAAI,WAAYpB,GACrBsG,EAAkBtG,EAAUH,GAE7B,GADA8B,QAAQP,IAAI,uBACRpB,EAASuB,OASN5B,EAAwBK,EAASuB,OAAQ1B,IAC1CgH,QAVc,CAClB,IAAM9B,EAAUsB,EAAarG,EAAUH,GACvC8B,QAAQP,IAAI,wBAAyB2D,GACrCG,EAAY,2BACPlF,GADM,IAETuB,OAAQwD,EAAQ,WASpBpD,QAAQP,IAAI,yBAGdO,QAAQP,IAAI,cAAepB,IAKhB,SAAoDyG,MACxDD,EAAe,mCACd,qBAAK7N,UAAW,SAAhB,SAA0B,cAAC,EAAD,CAAcG,QAASiD,EAAO6K,SAAUF,EAAa7L,UAAW,WAAO6L,EAAY3K,EAAMqC,KAAKC,MAAMD,KAAKE,SAASvC,EAAMwC,UAAW2G,EAAYnJ,EAAMqC,KAAKC,MAAMD,KAAKE,SAASvC,EAAMwC,WAAYzD,WAAY,kCAClO,SAIZkM,EAAW,SAAC,GAAmE,IAAD,EAAjEnH,EAAiE,EAAjEA,SAAU9D,EAAuD,EAAvDA,MAAO2K,EAAgD,EAAhDA,YAA6BxE,GAAmB,EAAnC+E,eAAmC,EAAnB/E,eACzD5B,EAAI,OAAGvE,QAAH,IAAGA,GAAH,UAAGA,EAAOgL,MAAK,SAAAtO,GAAI,OAAY,OAARoH,QAAQ,IAARA,OAAA,EAAAA,EAAUjH,QAASH,EAAKG,eAA/C,aAAG,EAAmD0H,KAC1DQ,GAAiB,OAARjB,QAAQ,IAARA,OAAA,EAAAA,EAAUS,KAAKQ,SAAf,OAAsBR,QAAtB,IAAsBA,OAAtB,EAAsBA,EAAMQ,QAErCoG,EAAcpG,EAAS,EAAE,EAAI,QACbA,EAAS,EAAE,EAAI,SACbA,EAAS,EAAE,EAAI,SACG,MAEpCqG,EAAe,SAACC,EAAKC,GACzB,IAAMC,EAAO,eAAOzH,EAASS,MAC7BgH,EAAQD,GAAQE,SAASH,GACzBzF,QAAQP,IAAI,UAAWkG,GACvBZ,EAAY,2BACP7G,GADM,IAETS,KAAK,eAAKgH,OAMdtL,IAAMwL,WAAU,cAEb,CAAC3H,IAEJ,IAAM4H,EAAa,SAAC,GAAqC,IAAnCL,EAAkC,EAAlCA,IAAKM,EAA6B,EAA7BA,QAASL,EAAoB,EAApBA,KAAMM,EAAc,EAAdA,SAAc,EAChB3L,IAAMC,SAASmL,GADC,mBAC/CQ,EAD+C,KAClCC,EADkC,OAExB7L,IAAMC,UAAS,GAFS,mBAE/C6L,EAF+C,KAEtCC,EAFsC,KAGhDC,EAAWF,EAAS,CAACG,eAAgB,gBAAkB,KAE7D,OAAO,sBAAKtP,UAAW,aAAcE,MAAOmP,EAArC,UACJF,EAAS,sBAAKnP,UAAW,MAAhB,UACR,uBAAOyE,KAAM,OAAQK,MAAOmK,EAAatK,SAAU,SAACC,GAAD,OAAOsK,EAAetK,EAAEC,OAAOC,QAAQ5E,MAAO,CAACqP,MAAO,UACzG,qBAAKnN,QAAS,WAAOgN,GAAW,GAAUL,EAAQE,EAAaP,IAA/D,oBACA,qBAAKtM,QAAS,WAAO8M,EAAeT,GAAMW,GAAW,IAArD,uBAGF,qBAAKlP,MAAO,CAACsP,OAAQ,YAAaC,QAAQ,OAAQrN,QAAS,kBAAMgN,GAAW,IAA5E,SAAoFH,IACpF,uCAAYD,SAKVU,EAAmB,qBAAK1P,UAAW,eAAgBE,MAAK,2BAAMK,EAAY,eAAlB,IAAiCI,mBAAoB,SAAUyF,UAAU,WAA9G,SACtBmD,IAEH,OAAM,0CAAKrC,EACT,mCACE,qBAAKlH,UAAW,WAAhB,SACE,qBAAKA,UAAW,SAAhB,SACE,cAAC,EAAD,CAASF,KAAMoH,EAAUpG,MAAO,sBAAKd,UAAW,iBAAhB,UAC/B2H,EAAKC,QAAU,mCACd,qBAAK5H,UAAW,UAAhB,SACE,8BAAK,cAAC8O,EAAD,CAAYL,IAAKvH,EAASS,KAAKC,QAASmH,QAASP,EAAcE,KAAM,UAAWM,SAAU,2CAAMrH,EAAKC,QAAX,0BAE5F,KACL,qBAAK5H,UAAW,SAAhB,SACE,8BAAK,sBAAME,MAAO,CAACyP,MAAOpB,GAArB,SAAoC,cAACO,EAAD,CAAYL,IAAKvH,EAASS,KAAKQ,OAAQ4G,QAASP,EAAcE,KAAM,SAAUM,SAAU,2CAAMrH,EAAKQ,OAAX,2BAEnI,sBAAKnI,UAAW,MAAhB,UAAuB,gCAAMkH,EAASS,KAAKY,MAAMrB,EAASI,SAASiB,MAAMgB,EAAlD,mBAAvB,KAAkG,cAACuF,EAAD,CAAYL,IAAKvH,EAASS,KAAKY,MAAOwG,QAASP,EAAcE,KAAM,UAArK,MAAkL,mCAAGgB,OACrL,qBAAKxP,MAAO,CAAEkG,UAAU,SAAxB,SACCc,EAASS,OAASA,EACjB,sBAAMvF,QAAS,kBAAM2L,EAAW,OAAC3K,QAAD,IAACA,OAAD,EAACA,EAAOgL,MAAK,SAAAtO,GAAI,OAAY,OAARoH,QAAQ,IAARA,OAAA,EAAAA,EAAUjH,QAASH,EAAKG,UAA7E,mBAAoG,kBAKzG,SAIH2P,EAAc,SAAC,GAAoI,IAAD,EAAlIvI,EAAkI,EAAlIA,SAAUH,EAAwH,EAAxHA,SAAUmC,EAA8G,EAA9GA,eAAgBwG,EAA8F,EAA9FA,kBAAmBvG,EAA2E,EAA3EA,gBAAiBwG,EAA0D,EAA1DA,mBAAoBvG,EAAsC,EAAtCA,cAAewG,EAAuB,EAAvBA,iBAC3H9G,EAAI5B,GAAYH,EACR,IAAIE,EAAOC,EAAUH,EAAU,CAAEmC,EAAgBC,EAAiBC,IAClE,KACNyG,GAAqB,OAAR3I,QAAQ,IAARA,GAAA,UAAAA,EAAU+E,eAAV,eAAmB3I,QAAO,SAAAwD,GAAM,OAAID,EAAwBC,EAAQC,MAAWtB,QAAS,EAErGqK,EAAiBhH,EAAK+G,IAAe/G,EAAEsB,cAAiB,SAC3DyF,GAAc/G,EAAEsB,cACjB,sBAAKvK,UAAW,kBAAhB,UAAmC,8BAAMiJ,EAAEsB,gBAAqB,kDAC5DrD,EACE,sBAAMlH,UAAW,OAAjB,0BACA,8CACkB,GAExB,OAAO,mCACP,sBAAKA,UAAW,aAAhB,UACI,8BAAMqH,EAAW,cAAC,EAAD,CAASvH,KAAMuH,EAAUvG,MAAQmP,IAAsB,OACtE,8BAAM5I,EAAW,cAAC,EAAD,CAASsF,aAAc,SAAUC,eAAgBiD,EAAmB/K,MAAOuE,IAAqB,OACnH,wBAEA,wBACA,+BACW,OAARnC,QAAQ,IAARA,OAAA,EAAAA,EAAUS,KAAKC,UAAW,EAAK,cAAC,EAAD,CAAS+E,aAAc,UAAWC,eAAgBkD,EAAoBhL,MAAOwE,IAAqB,OAEpI,+BAAc,OAARpC,QAAQ,IAARA,OAAA,EAAAA,EAAUS,KAAKC,SAAW,cAAC,EAAD,CAAS9H,KAAMoH,EAAUpG,MAAO,sBAAKd,UAAW,kBAAhB,UAAmC,8BAAMsJ,IAAsB,oDAAyB,OAExJ,wBACE,8BAAMpC,EAAU,cAAC,EAAD,CAASyF,aAAc,QAASC,eAAgBmD,EAAkBjL,MAAOyE,IAAoB,OAC/G,8BAAMrC,EAAW,cAAC,EAAD,CAASpH,KAAMoH,EAAUpG,MAAO,qBAAKd,UAAW,sBAA8B,aAM1FkQ,EAAS,SAAC,GAA4E,IAA3E7I,EAA0E,EAA1EA,SAAUH,EAAgE,EAAhEA,SAAUI,EAAsD,EAAtDA,SAAUyG,EAA4C,EAA5CA,YAAaxB,EAA+B,EAA/BA,YAAanJ,EAAkB,EAAlBA,MAAO+M,EAAW,EAAXA,MAErF,GAAI7I,GAAalE,EAEV,CAAC,IAAD,cAC6GkE,EAD7G,GACE+B,EADF,KACkBwG,EADlB,KACqCvG,EADrC,KACsDwG,EADtD,KAC0EvG,EAD1E,KACyFwG,EADzF,KAGCK,EAAS,IAAIhJ,EAAOgB,KAAKC,MAAMD,KAAKE,UAAUjB,IAC9Be,KAAKC,MAAMD,KAAKE,UAAUpB,IAC1B,CAAEmC,EAAgBC,EAAiBC,IAEnDlE,EAAM,CAAC,UAEb,OADI8K,GAAQ9K,EAAIC,KAAK,cACd,sBAAKtF,UAAWqF,EAAIrC,KAAK,KAAzB,UACG,gCACE,cAAC,EAAD,CAAKqE,SAAUA,EAAUH,SAAUA,EAC/BmC,eAAgBA,EAAgBE,cAAeA,EAAeD,gBAAiBA,EAC/EyE,YAAaA,EAAaxB,YAAaA,EAAanJ,MAAOA,IAE/D,cAAC,EAAD,CAAU8D,SAAUA,EAAU6G,YAAaA,EAAa3K,MAAOA,EAAOmG,cAAeA,EAAe8G,eAAgB/G,IACnHtC,EAAuB,OAACK,QAAD,IAACA,OAAD,EAACA,EAAUuB,OAAQ1B,GAAY,sBAAKlH,UAAW,aAAhB,2BAA6CoQ,EAAOrI,YAApD,UAA+F,IAAvBqI,EAAOrI,YAAoB,GAAK,IAAxG,OAAsH,QAE/K,gCACGV,GAAYH,EAAW,+CAA0B,oBAAIhH,MAAO,CAACoQ,QAAS,IAArB,2BAClD,cAAC,EAAD,CAAajJ,SAAUA,EAAUH,SAAUA,EAAUmC,eAAgBA,EAAgBwG,kBAAmBA,EAClGvG,gBAAiBA,EAAiBwG,mBAAoBA,EAAoBvG,cAAeA,EAAewG,iBAAkBA,UAtB5I,OAAO3M,EAAS,aAAe,eCtHpBmN,MAjIf,WAAgB,IAAD,EACkClN,IAAMC,SAAS,GADjD,mBACNgG,EADM,KACWkH,EADX,OAE8BnN,IAAMC,SAAS,GAF7C,mBAENiG,EAFM,KAESkH,EAFT,OAGgCpN,IAAMC,SAAS,GAH/C,mBAGN+F,EAHM,KAGUqH,EAHV,OAuB2BrN,IAAMC,UAAS,GAvB1C,mBAuBNqN,EAvBM,KAuBQC,EAvBR,OPJS,SAACC,GAAe,MAENxN,IAAMC,SAAS,MAFT,mBAE/BwN,EAF+B,KAErBC,EAFqB,OAGV1N,IAAMC,UAAS,GAHL,mBAG/B0N,EAH+B,KAGvBC,EAHuB,KAKhCC,EAA2E,6CAsBjF,OArBAlI,QAAQP,IAAI,SAAUyI,GAEtB7N,IAAMwL,WAAU,WACdoC,GAAU,GACI,uCAAG,4BAAA1K,EAAA,0DACZyK,EADY,yCACI,IADJ,OAETG,EAAKD,EAAS,YACpBlI,QAAQP,IAAI,MAAO0I,GACjBC,MAAMD,GACHE,MAAK,SAAAC,GAAG,OAAIA,EAAIC,UAChBF,MAAK,SAAAC,GACJP,EAAYO,EAAIlO,UAEjBoO,OAAM,SAAAC,GACLzI,QAAQgC,MAAM,iBAAkByG,MAVvB,2CAAH,oDAcdC,KACC,CAACV,EAAQE,IAEL,CAACF,EAAQF,GOEea,GAzBlB,mBAyBNX,EAzBM,KAyBEY,EAzBF,OA0BavO,IAAMC,SAAS,MA1B5B,mBA0BNF,EA1BM,KA0BCyO,EA1BD,OA4BmBxO,IAAMC,SAAS,MA5BlC,mBA4BN+D,EA5BM,KA4BIkF,EA5BJ,OA6BmBlJ,IAAMC,SAAS,MA7BlC,mBA6BN4D,EA7BM,KA6BI6G,EA7BJ,OA+BmB1K,IAAMC,SAAS,GA/BlC,mBA+BNiM,EA/BM,KA+BCuC,EA/BD,KAgCZzO,IAAMwL,WAAU,WACf,IAAMkD,EAAmB,WACvB,IAAMxC,EAAQyC,OAAOC,WACrBH,EAAevC,IAMhB,OAHAwC,IAEAC,OAAOE,iBAAiB,SAAUH,GAC3B,kBACLC,OAAOG,oBAAoB,SAASJ,MACpC,IAGL1O,IAAMwL,WAAU,WACXmC,GACDa,EAASD,KAEV,CAACZ,EAAQY,IAGZ,IAAMQ,EAAc,SAACnL,GACnBsF,EAAY,2BACPlF,GADM,IAETuB,OAAQ3B,MAIZ5D,IAAMwL,WAAU,WACd+B,GAAgB,KACf,CAACvJ,IAEJhE,IAAMwL,WAAU,WAETzL,IACGiE,EAGEsJ,IACF3H,QAAQP,IAAI,kBACZmI,GAAgB,IAJlBA,GAAgB,MAUrB,CAACvJ,EAAUH,EAAU9D,EAAOuN,IAE/B,IAAMR,EAAQZ,EAAQ,IAEhB8C,EAAQ,qBAAKrS,UAAW,YAAhB,SACE,sBAAKA,UAAW,WAAhB,UACA,oBAAIE,MAAO,CAACiG,SAAU,QAASC,UAAU,UAAzC,sBACA,cAAC,EAAD,CACEiB,SAAUA,EACVH,SAAUA,EACVqF,YAAaA,EACbnJ,MAAOA,EACPgP,YAAaA,SAKzBE,EAAS,qBAAKtS,UAAW,YAAhB,SACC,cAAC,EAAD,CACEqH,SAAUA,EACVH,SAAUA,EACVI,SAAU,CAAC+B,EAlFH,SAACoF,GACtBA,GAAO,GAAKA,GAAO,IACpBiC,EAAmBjC,IAgFyCnF,EA9FrC,SAACmF,GACvBA,GAAO,GAAKA,GAAO,IACpB+B,EAAoB/B,IA4F6ElF,EAxF5E,SAACkF,GACrBA,GAAO,GAAKA,GAAO,IACpBgC,EAAkBhC,KAuFJV,YAAaA,EACbxB,YAAaA,EACb6F,YAAaA,EACbhP,MAAOA,EACP+M,MAAQA,MAGpBoC,EAAQ,qBAAKvS,UAAW,YAAhB,SACE,sBAAKA,UAAW,WAAhB,UACE,oBAAIE,MAAO,CAACiG,SAAU,QAASC,UAAU,UAAzC,sBACA,cAAC,EAAD,CAAUtG,KAAMoH,EACN5E,QAASyL,EACT3K,MAAOA,SAKjC,OACE,qBAAKpD,UAAU,MAAf,SAEKmQ,EAAQ,sBAAKnQ,UAAW,QAAhB,UAA0BqS,EAA1B,IAAkCC,EAAlC,IAA2CC,EAA3C,OAA0D,qCAAGD,EAAH,IAAW,sBAAKtS,UAAW,QAAhB,UAA0BqS,EAA1B,IAAkCE,EAAlC,a,QC3H3EC,EAAY,WACvBC,IAAUC,KAAK,YACf,IAAMC,EAAaF,IAAUG,MAAM,CACjCC,OAAQ,WAGV,OACE,qCACE,2CACA,cAACF,EAAD,Q,eCNAG,GAAU,kBAAM,qBAAK9S,UAAU,MAAf,SACpB,sBAAKA,UAAW,mBAAhB,UACE,2CACE,kGACF,uCACE,+BACE,kEACA,+DACA,oEAEJ,8DAAgC,mBAAG+S,KAAK,yOAAR,oCAIpCC,IAASC,OAEP,cAAC,IAAMC,WAAP,UACE,sBAAKlT,UAAU,UAAf,UACE,sBAAKA,UAAW,aAAhB,UACE,qBAAKA,UAAW,QAAhB,SAAyB,mBAAG+S,KAAO,IAAV,yCACvB,wBACA,8BAAK,mBAAGA,KAAK,WAAR,0BAGT,cAAC,IAAD,UACE,eAAC,IAAD,WACE,cAAC,IAAD,CAAO5P,KAAK,QAAZ,SACE,cAAC,EAAD,MAEF,cAAC,IAAD,CAAOA,KAAK,WAAZ,SACE,cAAC,GAAD,MAEF,cAAC,IAAD,CAAOA,KAAK,IAAZ,SACE,cAAC,EAAD,WAKN,qBAAKnD,UAAW,aAAhB,SACI,+CAAiB,mBAAG+S,KAAK,gDAAR,qBAAjB,MAAuF,mBAAGA,KAAK,gCAAR,mCAI/F3F,SAAS+F,eAAe,W","file":"static/js/main.1508f9f2.chunk.js","sourcesContent":["import React from \"react\"\nimport \"./Unit.css\"\n\nexport const useUnits = (checkAgain) => {\n  // console.log(\"beingcalled\")\n  const [response, setResponse] = React.useState(null)\n  const [locked, setLocked] = React.useState(false)\n\n  const apiURL = process.env.NODE_ENV ===\"development\"? 'http://localhost:5000/' : \"https://sc2-meleee.herokuapp.com/api/units\";\n  console.log('apiURL', apiURL)\n\n  React.useEffect(() => {\n    setLocked(true)\n    const getUnits = async () =>{\n      if(locked) {return []}\n      const URL =apiURL + 'api/units';\n      console.log('URL', URL)\n        fetch(URL)\n          .then(res => res.json())\n          .then(res =>  {\n            setResponse(res.units)\n          })\n          .catch(err => {\n            console.error(\"error fetching\", err)\n          })\n    }\n\n    getUnits()\n  }, [locked, apiURL])\n\n  return [locked, response]\n}\n\nexport const Unit = (props) => {\n  const unit = props.unit;\n\n  const unitCard = unit? <div className={\"unit-card\"}>\n          <div className={\"unit-name\"}>{unit.name}</div>\n          <div style={{display: \"flex\"}}>\n            <div style={{minWidth:\"200px\", minHeight:\"200px\"}}><UnitImg unit={unit} /></div>\n            <div className={\"attributes\"}>\n            {props.children}\n            </div>\n          </div>\n        </div>  \n      : null;\n  \n  return <>{unitCard}</>\n      \n}\n\n\nexport const inlineStyle = (img) => {\n  return {\n    backgroundSize: 'contain',\n    backgroundRepeat: 'no-repeat',\n    backgroundPosition: 'right',\n    backgroundImage: `url(${ img})`,\n    minWidth: '50px',\n  }\n}\nexport const UnitImg = ({unit, label}) => {\n  return <div style={inlineStyle(unit.img)} className={\"unit-img\"}>\n    <div className={\"unit-img-label\"}><h1>{label}</h1></div>\n  </div>\n}\n\n\n","import React from \"react\"\nimport {Unit, inlineStyle} from \"./Unit\"\n// import { useSpring, animated } from 'react-spring'\n\nimport \"./UnitSelector.css\"\n\nconst factions = {\n  terran: {\n    icon: \"/marine.png\",\n    production: {\n      barracks: \"/barracks.png\",\n      factory: \"/factory.png\",\n      starport: \"/starport.png\",\n    }\n  },\n  zerg: {\n    icon: \"/zergling.png\",\n    production: {\n\n    }\n  },\n  protoss: {\n    icon: \"/zealot.png\",\n    production: {\n      roboticsFacility: \"/robo.png\"\n    }\n  }\n}\nconst camel2str = (str) => {\n   // adding space between strings\n  const result = str.replace(/([A-Z])/g,' $1');\n\n  // converting first character to uppercase and join it to the final string\n  const final = result.charAt(0).toUpperCase()+result.slice(1);\n  return final\n}\n\nexport const RandomButton = ({display, randomize, randomText }) => {\n  let button;\n\n  if(display){\n    button = <span onClick={() => randomize()}>\n                {randomText || <>🎲</>}\n            </span>\n  } else {\n    button = <button>Loading...</button>\n  }\n\n  return <div className={\"random-button\"}>\n      {button}\n    </div>\n}\n\nconst ResetButton = ({unit, setUnit}) => {\nreturn <div className={\"reset-button\"} onClick={() => setUnit(null)}>\n        ↻\n      </div>\n}\n\nconst ButtonGroup = ({unit, setUnit, randomizeUnit, display}) => {\n  return <div className={\"button-group\"}> \n    <RandomButton display={display} randomize={randomizeUnit} /> \n    {unit ? <ResetButton setUnit={setUnit} /> : null}\n  </div>\n}\n\nconst showUnits = (subUnits, currentUnit, setUnit) => {\n  const classes = [\"unit-selection\"]\n  return subUnits.map((unit,index) => {\n    let tmpClasses = classes\n    if( currentUnit?.name === unit.name){      \n      tmpClasses = [...classes, \"active-unit\"]\n    } else {\n      tmpClasses = classes\n    }\n\n    return <div key={index} \n                onClick={() => setUnit(unit)} \n                className={tmpClasses.join(\" \")} \n                style={inlineStyle(unit.img)}>\n      <header><h1>{unit.name}</h1></header>\n    </div>\n  })\n}\n\nconst Production = ({structure, path, units, unit, setUnit}) => {\n  const [hidden, setHidden] = React.useState(true)\n  const subUnits = units ? units.filter(unit => unit.structure === structure) : null;\n\n  let display = hidden? <></> :\n    <div className={\"units-selector\"}>{showUnits(subUnits, unit, setUnit)}</div>;\n\n  if(!units) return null;\n\n  return <div>\n      <div className={\"production-facility\"} style={inlineStyle(path)} onClick={() => setHidden(!hidden)}>\n        <header><h1>{camel2str(structure)}</h1></header>\n      </div>\n\n      <div>{display}</div>\n  </div>\n}\n\nconst Faction = ({data, units, unit, setUnit}) => {\n  const [hidden, setHidden] = React.useState(true);\n\n  return <div >\n    \n    <div onClick={() => setHidden(!hidden)}>\n      <div>{}</div>\n      <div style={{...inlineStyle(data.icon), height:\"150px\", \n  backgroundPosition: 'left',}} ></div>\n      </div>\n      {hidden ? null : \n      <div>\n        {\n          Object.entries(data.production).map(([structure, path]) => {\n            return <Production \n                      key={structure} \n                      structure={structure} \n                      path={path}\n                      units={units}\n                      unit={unit}\n                      setUnit={setUnit} />\n          })\n        }\n      </div>\n    }\n    </div>\n}\n\nconst FactionFlipper = ({ showFactions}) => {\n  if(showFactions) {\n    return \"hide ⟰ units\"\n  } else {  \n    return \"show ⟱ units\"\n  }\n}\n\nexport const UnitSelector = (props) => {\n  const [setUnit, currentUnit, units, showTags] = [props.setUnit, props.currentUnit, props.units, props.showTags]\n\n  const [tags, setTags] = React.useState([])\n  const [showFactions, setShowFactions] = React.useState(false)\n  const [searchText, setSearchText] = React.useState(\"\")\n  const inputText = <input className={\"unit-search\"} type={\"search\"} placeholder={\"...unit name\"} onChange={(e) => setSearchText(e.target.value)} value={searchText}/>\n\n\n  const randomElement = (arr) => {\n    return arr[Math.floor(Math.random()*arr.length)]\n  }\n  \n  const randomizeUnit = () => {\n    setUnit(randomElement(units))\n  }\n\n  const toggleTagging = (type) => {\n    if(tags.includes(type)){\n      setTags(tags.filter(item => item !== type))\n    } else {\n      setTags([...tags, type])\n    }\n  }\n\n  const Tag = ({tag, highlight}) => {\n    const cns = [\"tagged-attribute\"]\n    cns.push(highlight && tags.includes(tag) ? \"used-tag\" : \"\")\n    return <div className={cns.join(\" \")} key={tag} onClick={() => toggleTagging(tag)}>{tag}</div>;\n  }\n\n  const inputArea = <div>\n    <div className={\"input-area\"}>{inputText} <ButtonGroup display={units} unit={currentUnit} setUnit={setUnit} randomizeUnit={randomizeUnit}/></div>\n    <div className={\"row search-by-tag\"}>\n      {tags.map(tag => <Tag key={tag} tag={tag} toggle={toggleTagging} />)}\n      {tags.length > 0 ? <h1 className={\"clear-tags\"} onClick={() => setTags([])}>🚫</h1> : null}\n      </div>\n    <div>\n      <Unit unit={currentUnit} setUnit={setUnit}>\n         <div className={\"attributes\"}>\n            {showTags && currentUnit?.types.map((( tag, index ) => {\n                return <Tag key={tag} tag={tag} toggle={toggleTagging} highlight={true}/>\n              }))}\n            </div>\n      </Unit>\n      {props.children}\n    </div>\n  </div>\n\n  if(units){\n    const reset = <div className={\"button column\"} onClick={() => {setTags([]); setSearchText(\"\")}}><div> Clear filters</div></div>;\n\n    if(searchText.length > 0 || tags.length > 0){\n      let subUnits = units.filter(unit => {\n        let absent = false\n        tags.forEach(tag => {\n          if(!unit.types.includes(tag)){\n            absent = true;\n          }\n        })\n        return !absent\n      }).filter(unit => unit.name.toLowerCase().includes(searchText.toLowerCase()))\n      return <>\n      <>{inputArea}</>\n        \n        {showUnits(subUnits, currentUnit, setUnit).length >0 ? <><h1 style={{fontSize: \"2em\"}}>Filtered Results:</h1>{showUnits(subUnits, currentUnit, setUnit)} </>: <></>}\n        {reset}\n      </>\n    } else {\n      return <>\n        {inputArea}\n        <div onClick={() => setShowFactions(!showFactions)} className={\"selector\"} style={{textAlign:\"center\", fontSize:\"1.5em\"}}><FactionFlipper showFactions={showFactions}/></div>\n          {showFactions ? \n              Object.entries(factions).map( ([key, value]) => {\n              return (\n                <div key={key} className={\"faction\"}>\n                  <Faction data={value} label={key} units={units} unit={currentUnit} setUnit={setUnit}/>\n                </div>\n              );\n            }) : null\n          }\n      </>\n    }\n  } else {\n    return \"Loading\"\n  }\n  \n  \n  \n}","export const groundAirTargetingValidation = (attack, defender) => {\n return intersection(intersection(attack.targets, defender.types), [\"Ground\", \"Air\"])\n}\n\nfunction intersection(a, b) {\n  var setA = new Set(a);\n  var setB = new Set(b);\n  var intersection = new Set([...setA].filter(x => setB.has(x)));\n  return Array.from(intersection);\n}\n\n\nexport const canAttackTargetDefender = (attack, defender) => {\n  if(attack && defender){\n    const overlap = intersection(intersection(attack.targets, defender.types), [\"Ground\", \"Air\"]);\n    return overlap.length > 0\n  } else {\n    return false\n  }\n}\n// d = Damage(unit, defender, attack, attackResearch, armorResearch, shieldsResearch)\n// Damage.oneStep(unit, defender)\nexport class Damage{\n  constructor( attacker, defender, research, guardian=0) {\n    if(!attacker || !defender){return null}\n\n  const [attackResearch, shieldsResearch, armorResearch] = research\n  this.research = {\n    attack: attackResearch,\n    armor: armorResearch,\n    shields: shieldsResearch\n  }\n\n  this.att = JSON.parse(JSON.stringify(attacker));\n  this.def = JSON.parse(JSON.stringify(defender));\n\n  let Spell = 1\n  let Hallucinated = 1\n  let Corrupted = 1\n  let Hardened = 900\n  let Prismatic = 1\n\n  this.bonusDamage = () => {\n    return this.att.weapon.bonuses.filter(bonus => this.def.types.includes(bonus.to)).reduce((total, amount) => {\n      return total+amount.baseDamage+amount.researchBonus*this.research.attack\n    }, 0)\n  }\n\n  this.damageDealt = () => {\n    const attack = this.att?.weapon\n    if(this.att && this.def && attack){\n      return (\n        attack.baseDamage +\n        this.research.attack*attack.researchBonus +\n        this.bonusDamage()\n      )  \n    } else {\n      return \"\";\n    }\n  }\n\n  this.armorDefense = () => {\n    return this.def.base.armor + this.research.armor\n  }\n\n  this.defenseAvailable = () => {\n    if(this.def.base?.shields > 0){\n      return this.research.shields\n    } else {\n      return this.armorDefense(this.def)\n    }\n  }\n\n  this.defenseApplied = () => {\n    return this.defenseAvailable()*Spell*(2-Hallucinated)\n  }\n\nthis.damageReceived = () => {\n    return this.damageDealt()*Corrupted*Hallucinated*Prismatic - this.defenseApplied();\n  }\n\n\n  this.damageCapped = (att, def) => {\n    return Math.min(\n      this.damageReceived(att, def),\n      Hardened*Corrupted*Hallucinated+900*(1-Spell)\n    );\n  }\n\n  this.damageInflicted = (att, def) => {\n    return Math.max(\n      .5,\n      this.damageCapped(att, def) - guardian\n    );\n  }\n\n\n}\n\ntotalDamage = () => {\n  const def = this.def\n  const att = this.att\n\n  if(def.base.shields > 0 && this.damageInflicted(att, def) > def.base.shields + this.armorDefense(def)){\n    return this.damageInflicted(att, def)-this.armorDefense(def)\n  } else {\n    return this.damageInflicted(att, def)\n  }\n}\n\n\neliminate = () => {\n  let newValues = this.oneShot();\n  if(!newValues){return 0}\n  let count = 1;\n  while(newValues?.health > 0){\n    count++;\n\n      if(newValues){\n        const defender = {\n          ...this.def,\n          base: {\n            ...this.def.base,\n            health: newValues.health,\n            shields: newValues.shields,\n          }\n        }\n        const d =  new Damage(this.att,\n          JSON.parse(JSON.stringify(defender)), \n          [ this.research.attack, this.research.shields, this.research.armor])\n        newValues= d.oneShot()\n      }\n      \n    }\n    return count;\n}\n\n\noneShot = (faked=true) => {\n  let att; let def;\n  if(faked){\n    att = JSON.parse(JSON.stringify(this.att));\n    def = JSON.parse(JSON.stringify(this.def));\n  } else {\n    att = this.att\n    def = this.def\n  }\n\n  let results = null\n  let log\n\n  if(att.weapon === undefined || !def){\n    return \"👀 no attacker or attack not found\"\n  } if(!canAttackTargetDefender(att.weapon, def)){\n    return \"can't shoot\"\n  }\n  if(def.base.health > 0){\n    let damageSum=0;\n\n    for(var i = 0; i < att.weapon.repeats; i++){\n      console.log(\"repaeting attack\", att.weapon)\n      const d =  new Damage(att,\n        JSON.parse(JSON.stringify(def)),\n        [ this.research.attack, this.research.shields, this.research.armor])\n      let damage = d.totalDamage();\n      if(def.base?.shields > 0){\n        if(damage <= def.base.shields){\n          def.base.shields -= damage\n          log = `${damage} to shields. (${def.base.shields} remaining)`\n        } else {\n          def.base.shields = 0;\n          def.base.health -= damage - def.base.shields;\n          log = `${damage} has overloaded shields. (${def.base.health} health remaining)`\n        }\n      } else {\n        def.base.health -= damage;\n        log = `${damage} damage. (${def.base.health} HP)`\n      }\n      damageSum += damage;\n      if(def.base.health < 0){\n        const overkill = (100*-def.base.health/damageSum).toFixed(1)\n        log += ` (${overkill}% attack wasted)`\n      }\n      results = ({health: def.base.health, shields: def.base.shields, totalDamage: damageSum, log: log})\n    }\n  }\n  console.log(\"results\", results)\n  return results\n}\n}\n","import React from 'react'\nimport { UnitSelector } from '../UnitSelector/UnitSelector'\nimport {canAttackTargetDefender} from \"./Damage\"\nimport \"./Attacker.css\"\n\nclass AttackerErrorBoundary extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = { error: null, errorInfo: null };\n  }\n  \n  componentDidCatch(error, errorInfo) {\n    // Catch errors in any components below and re-render with error message\n    this.setState({\n      error: error,\n      errorInfo: errorInfo\n    })\n    // You can also log error messages to an error reporting service here\n  }\n  \n  render() {\n    if (this.state.errorInfo) {\n      // Error path\n      return (\n        <div>\n          <h2>Something went wrong.</h2>\n          <details style={{ whiteSpace: 'pre-wrhap' }}>\n            {this.state.error && this.state.error.toString()}\n            <br />\n            {this.state.errorInfo.componentStack}\n          </details>\n        </div>\n      );\n    }\n    // Normally, just render children\n    return this.props.children;\n  }  \n}\n\n\nconst Bonus = ({attack, defender, textstyle}) => {\n\n  return attack.bonuses.map((bonus, index) => {\n    let baseText = <>Anti-{bonus.to}:</>\n    let bonusText = <>{bonus.baseDamage} (+{bonus.researchBonus})</>;\n    let modifier;\n    \n    if(!defender){\n      modifier = <span>{bonusText}</span>\n    } else {\n      // const overlap = false;//groundAirTargetingValidation(attack, defender);\n      // if (overlap.length === 0){\n      //   modifier = <span> {bonusText} </span>\n      // }else{\n        if (defender.types.includes(bonus.to) ){\n          modifier=  <span>{bonusText} 🎯</span>\n        } else {\n          modifier= <span style={{textDecoration: \"wavy line-through red\"}}>{ bonusText}</span>\n        }\n      // }\n    }\n\n    return <div key={index}>\n      {baseText}\n      <span className={textstyle}>\n      {modifier}\n      </span>\n    </div>\n  })  \n}\n\nconst Bullet = ({animate, display}) => {\n  if(display){\n    if (animate){\n      return <span className={\"bullet\"}>➡</span>\n    } else {\n      return <>➡</>\n    }\n  } else {\n    return <></>\n  }\n}\n\n// const WeaponDisplay = ({available, selected, classes}) => {\n//   return <>\"weapon\"</>\n//   // const cns = []\n//   // cns.push(index === attacker.weapon ? \"main-weapon\" : \"other-choice\");\n//   // cns.push(available ? \"attack-available\" : \"attack-unavailable\");\n//   // const attacks = [\"attack-name\"]\n//   // attacks.push(available? \"alt-weapon\": \"unavailable\")\n//   // attacks.push(available && (defaultIndex === null) ? \"pulse\": \"\")\n//   // console.log('attacks', attacks)\n//   // console.log('defaultIndex', defaultIndex)\n//   // return <div key={index} onClick={() => toggleIndex(index)} className={cns.join(\" \")}>\n//   //   <>\n//   //     <div className={classes.join(\" \")} >\n//   //       <Bullet animate={available && (defaultIndex === null)} display={(true)}/>\n//   //           {attack.name} {attack.repeats > 1 ? <>(x {attack.repeats})</>: null}\n//   //     {index === defaultIndex ?\n//   //       <div>\n//   //         <>Base Damage: <span className={cn}>{attack.baseDamage} (+{attack.researchBonus})</span></>\n//   //         <Bonus attack={attack} defender={defender} textstyle={cn}/>\n//   //       </div>\n//   //       : null\n//   //       }\n//   //       </div>\n//   //   </>\n//   // </div>\n// }\n\nconst Attacks = ({attacker, defender, setAttackingWeapon}) => {\n  if(!attacker) return null;\n  const Attack = ({attack, available, selected}) => {\n    const cns = []\n    cns.push(attacker?.weapon?.name === attack?.name ? \"main-weapon\" : \"other-choice\");\n    cns.push(available ? \"attack-available\" : \"attack-unavailable\");\n    const attacks = [\"attack-name\"]\n    attacks.push(available? \"alt-weapon\": \"unavailable\")\n    attacks.push(available && (!attacker.weapon ? \"pulse\": \"\"))\n    console.log('attacks', attacks)\n    return <div onClick={() => setAttackingWeapon(attack)} className={cns.join(\" \")}>\n      <>\n        <div className={attacks.join(\" \")} >\n          <Bullet animate={attacks.includes(\"pulse\")} display={(true)}/>\n              {attack.name} {attack.repeats > 1 ? <>(x {attack.repeats})</>: null}\n        {selected ?\n          <div>\n            <>Base Damage: <span className={attacks.includes(\"pulse\") ? \"bullet\" : \"\"}>{attack.baseDamage} (+{attack.researchBonus})</span></>\n            <Bonus attack={attack} defender={defender} textstyle={\"yellow\"}/>\n          </div>\n          : null\n          }\n          </div>\n      </>\n    </div>\n  }\n\n  const attackMap =  attacker?.attacks.map((attack) => {\n    const available = canAttackTargetDefender(attack, defender)\n    return <div key={attack.name}><Attack attack={attack} available={available}\n                           selected={attack === attacker.weapon} /></div>\n    \n  \n  })\n\n  return <div className={\"attacks\"}>\n    <h1>{\n\n    attacker.attacks.length > 0 ? \"Attacks\" : \"Pacifist\"}</h1>\n      {attacker? attackMap : null} \n  </div>\n}\n\nexport const Attacker = ({attacker, defender, setAttacker, units}) => {\n\n  const setAttackingWeapon = (weapon) => {\n  if(weapon !== attacker.weapon){\n      setAttacker({\n        ...attacker,\n        weapon: weapon\n      })\n    } else {\n      setAttacker({\n        ...attacker,\n        weapon: null\n      })\n    }\n    return null;\n  }\n  return <AttackerErrorBoundary>\n  <UnitSelector setUnit={setAttacker} currentUnit={attacker} units={units}> \n      <Attacks attacker={attacker} \n      setAttackingWeapon={setAttackingWeapon} \n      defender={defender} /> \n  </UnitSelector>\n  </AttackerErrorBoundary>\n}\n","import React from 'react'\nimport {UnitSelector} from \"./UnitSelector/UnitSelector\"\n\nexport const Defender = ({unit, setUnit, units}) => {\n    return <UnitSelector setUnit={setUnit} currentUnit={unit} units={units} showTags={true}>\n    </UnitSelector>\n  }\n        \n","import { inlineStyle } from \"./UnitSelector/Unit\";\nimport \"./Upgrade.css\"\n\n// import styles from '../features/counter/Counter.module.css';\n\nconst researchSrcs = {\n  attack: \"/attack.png\",\n  armor: \"/armor.png\",\n  shields: \"/shield.png\"\n};\n\nexport const Upgrade = ({researchKind, value, updateResearch})=> {\n  const incrementByAmount = (amount) => {\n    updateResearch(value + amount)\n  }\n\n  if(value === null){\n    return <></>\n  }\n\n  const decrement = value > 0 ? \"can-change\" : \"locked\";\n  const increment = value < 10 ? \"can-change\" : \"locked\";\n\n  return <>\n  <div className={\"research\"}>\n    <div className={\"incrementer\"}>\n      \n      <div className={\"research-img\"} style={{...inlineStyle(researchSrcs[researchKind]), backgroundPosition: \"center\"}}>\n      <div\n        aria-label=\"Increment value\"\n        onClick={() => (incrementByAmount(1))}\n        className={increment}\n      >   ⨁ </div>\n        <h1>{value}</h1>\n        \n        <div\n          aria-label=\"Decrement value\"\n          onClick={() => (incrementByAmount(-1))}\n          className={decrement}\n        > ⊖  </div>\n      </div>\n    </div>\n  </div> </>\n}","import React from \"react\"\nimport {Upgrade} from \"./Upgrade\"\nimport {canAttackTargetDefender, Damage} from \"./Attacker/Damage\"\nimport { UnitImg, inlineStyle } from './UnitSelector/Unit'\nimport {RandomButton} from \"./UnitSelector/UnitSelector\"\nimport \"./Middle.css\"\n \nconst animateValidAttacks = (cname, keep) => {\n  Array.from(document.getElementsByClassName(cname)).forEach(elem => {\n    if(keep){\n      elem.classList.add(\"pulse\") \n    } else{\n      elem.classList.remove(\"pulse\") \n    }\n  })\n}\n\n\nconst validAttacks = (attacker, defender) => {\n  return attacker?.attacks.filter(attack => {\n    return canAttackTargetDefender(attack, defender)\n  })\n}\n\nconst validAttackExists = (attacker, defender) => {\n  return validAttacks(attacker, defender).filter(item => item).length > 0\n}\n\n\nconst DPS = ({attacker, defender,  attackResearch, shieldsResearch, armorResearch, setDefender, setAttacker, units}) => {\n  let d = new Damage(attacker, defender, [ attackResearch, shieldsResearch, armorResearch])\n  const active = attacker?.weapon && defender\n  const cns = [\"button\"];\n\n  \n  let doubleReroll\n  let text \n  if(active){\n    cns.push(\"active\")\n    animateValidAttacks(\"alt-weapon\", false)\n    if(canAttackTargetDefender(attacker.weapon, defender)){\n      if(d?.oneShot()){\n        console.log(\"oneshot\", d.oneShot())\n        text = <div style={{display: \"flex\", flexDirection:\"column\"}}><div style={{fontSize:\"1.5em\"}}>Damage:</div> <div>⚔️ {d.oneShot().totalDamage} 🛡</div></div>\n      } else {\n        text = <>Victory (reset)</>\n      }\n    }else {\n      text=<>{attacker.weapon.name} cannot target {defender.name}</>\n      cns.push(\"inactive\")\n    }\n  } else {\n    if (attacker && defender) {\n      cns.push(\"inactive\")\n      if(validAttackExists(attacker, defender)){\n              console.log('attacker: )', validAttacks(attacker, defender) )\n              text = <span>⬅ Select a valid attack</span>\n              cns.push(\"pulse\")\n              animateValidAttacks(\"alt-weapon\", true)\n      } else{\n        cns.push(\"invalid\")\n        text = <>{attacker.name} can't attack {defender.name}</>\n        doubleReroll=true\n      }\n\n    } else {\n      cns.push(\"waiting\")\n      if (!attacker && !defender) {cns.push(\"pulse\")}\n      text= <div>\n                 <div>Select: </div>\n                <div>{!attacker ? <div className={\"attacker row\"}><RandomButton display={units} randomize={() => setAttacker(units[Math.floor(Math.random()*units.length)])} randomText={\"🎲  ⬅ Attacker\"}/>  </div>: null}</div>\n                <div>{!defender? <div className={\"defender row\"}><RandomButton display={units} position={setDefender} randomize={() => setDefender(units[Math.floor(Math.random()*units.length)])} randomText={\"Defender ➡ 🎲 \"} /> </div>: null}</div>        \n              </div>\n    }\n  }\n\n  const resetDefender = () => {\n    if(defender?.name) {\n     setDefender(units.find(unit => unit.name === defender.name))\n     }\n  }\n\n  const updateHealth = () => {\n    if(!attacker || !defender) return;\n    let newValues = d.oneShot();\n    let newDefender = defender;\n    if(newValues && attacker.weapon){\n      for(var i = 0; i < attacker.weapon.repeats; i++){\n\n          let newValues = d.oneShot();\n          if(newValues){\n            newDefender = {\n              ...newDefender,\n              base: {\n                ...newDefender.base,\n                health: newValues.health,\n                shields: newValues.shields,\n              }\n            }\n            }\n          d = new Damage(JSON.parse(JSON.stringify(attacker)),\n          JSON.parse(JSON.stringify(newDefender)),\n          [ attackResearch, shieldsResearch, armorResearch]\n            )\n            \n     }\n     setDefender(newDefender)\n    } else {\n      resetDefender()\n    }\n  }\n\n  const callback = () => {\n    if(attacker){\n      console.log('attakcer', attacker)\n      if(validAttackExists(attacker, defender)){\n        console.log(\"valid attack exists\")\n        if(!attacker.weapon){\n          const attacks = validAttacks(attacker, defender)\n          console.log('attacks from attacker', attacks)\n          setAttacker({\n            ...attacker,\n            weapon: attacks[0]\n          })\n          }\n          else {\n            if(canAttackTargetDefender(attacker.weapon, defender)){\n              updateHealth()\n              }\n          }\n      } else {\n        console.log(\"no attack exists\")\n      }\n    } else {\n      console.log(\"no attacker\", attacker)\n    }\n  }\n\n  return <div className={\"DPS\"}>\n            <div><span className={cns.join(\" \")} onClick={callback}>{text}</span></div>\n            {doubleReroll ? <>\n              <div className={\"button\"}><RandomButton display={units} position={setDefender} randomize={() => {setDefender(units[Math.floor(Math.random()*units.length)]); setAttacker(units[Math.floor(Math.random()*units.length)])}} randomText={\"Reroll 🎲 Units\"}/></div>\n            </> : null}\n        </div>\n}\n\nconst Vitality = ({defender, units, setDefender, shieldResearch, armorResearch}) => {\n  const base = units?.find(unit => defender?.name === unit.name)?.base\n  const health = defender?.base.health/base?.health\n\n  const healthColor = health > 6/7 ? \"green\" :\n                        health > 4/7 ? \"yellow\":\n                          health > 2/7 ? \"orange\":\n                                            \"red\";\n\n  const setAttribute = (val, attr,) => {\n    const newBase = {...defender.base}\n    newBase[attr] = parseInt(val)\n    console.log('newBase', newBase)\n    setDefender({\n      ...defender,\n      base: {...newBase}\n    })\n  }\n\n\n\n  React.useEffect(() => {\n    // console.log('defender', defender.base)\n  }, [defender])\n\n  const UpdateAttr = ({ val, updater, attr, followup}) => {\n    const [holderValue, setHolderValue] = React.useState(val)\n    const [editing, setEditing] = React.useState(false)\n    const newStyle = editing? {justifyContent: \"space-evenly\"} : null;\n\n    return <div className={\"row astlye\"} style={newStyle}>\n      {editing? <div className={\"row\"}>\n        <input type={\"text\"} value={holderValue} onChange={(e) => setHolderValue(e.target.value)} style={{width: \"50px\"}}/>\n        <div onClick={() => {setEditing(false)  ; updater(holderValue, attr) }}>✅</div>\n        <div onClick={() => {setHolderValue(val); setEditing(false)}}>❌</div>\n        </div>:\n        //textDecoration: \"underline\"\n      <div style={{border: \"3px solid\", padding:\"3px\"} }onClick={() => setEditing(true)}>{holderValue}</div>  }\n      <div>&nbsp;{followup}</div>\n    </div>\n    } \n    // armorResearch, shieldResearch \n\n  const armorResearchImg = <div className={\"research-img\"} style={{...inlineStyle(\"/armor.png\"), backgroundPosition: \"center\", textAlign:\"center\"}}>\n    {armorResearch}\n  </div>\n  return<>  {defender?\n    <>\n      <div className={\"vitality\"}>        \n        <div className={\"avatar\"}>\n          <UnitImg unit={defender} label={<div className={\"vitality-stats\"}>\n          {base.shields ? <>\n            <div className={\"shields\"}>\n              <div><UpdateAttr val={defender.base.shields} updater={setAttribute} attr={\"shields\"} followup={<> / {base.shields}🧊</>} /></div>\n            </div>\n            </>: null}\n            <div className={\"health\"}>\n              <div><span style={{color: healthColor}}>{<UpdateAttr val={defender.base.health} updater={setAttribute} attr={\"health\"} followup={<> / {base.health} ♥️</>}/>}</span></div>\n            </div>\n            <div className={\"row\"}><div>{defender.base.armor+defender.research.armor*armorResearch} 🛡</div>= <UpdateAttr val={defender.base.armor} updater={setAttribute} attr={\"armor\"}/> + <>{armorResearchImg}</></div>\n            <div style={{ textAlign:\"right\"}}>\n          { (defender.base !== base ) ? \n              <span onClick={() => setDefender(units?.find(unit => defender?.name === unit.name))}>Reset</span> : null}\n              </div>\n        </div>}/>\n        </div>\n      </div>\n    </>: null}</>\n\n}\n\nconst AllUpgrades = ({attacker, defender, attackResearch, setAttackResearch, shieldsResearch, setShieldsResearch, armorResearch, setArmorResearch})  => {\n  let d = attacker && defender ?\n              new Damage(attacker, defender, [ attackResearch, shieldsResearch, armorResearch]) :\n              null;\n  const targetable = attacker?.attacks?.filter(attack => canAttackTargetDefender(attack, defender)).length > 0\n\n  const attackerDamage = d ? (targetable && !d.damageDealt())?  \"⬅\":\n    (targetable && d.damageDealt()) ? \n    <div className={\"attacker-damage\"}><div>{d.damageDealt() }</div><div>⚔️</div></div>:\n        defender ?\n          <span className={\"fail\"}>🥊</span>:\n          <>→</>:\n                            \"\";\n  \n    return <>\n    <div className={\"unit-stats\"}>\n        <div>{attacker ? <UnitImg unit={attacker} label={(attackerDamage)} /> : null}</div>\n          <div>{attacker ? <Upgrade researchKind={\"attack\"} updateResearch={setAttackResearch} value={attackResearch} /> : null }</div>\n        <div></div>\n\n        <div></div>\n        <div>\n          {defender?.base.shields >= 0 ?  <Upgrade researchKind={\"shields\"} updateResearch={setShieldsResearch} value={shieldsResearch} /> :null }\n        </div>\n        <div>{defender?.base.shields ?  <UnitImg unit={defender} label={<div className={\"attacker-damage\"}><div>{shieldsResearch}</div><div>🧊</div></div>} />: null}</div>\n\n        <div></div>\n          <div>{defender? <Upgrade researchKind={\"armor\"} updateResearch={setArmorResearch} value={armorResearch} /> : null }</div>\n        <div>{defender ? <UnitImg unit={defender} label={<div className={\"attacker-damage\"}></div>}/>: null}</div>\n      </div> \n    </>\n    }\n\n\nexport const Middle = ({attacker, defender, research, setDefender, setAttacker, units, large}) => {\n\n  if(!research || !units){\n    return units ?  \"no rsearch\":  \"or no units\";\n  } else {\n    const [attackResearch, setAttackResearch, shieldsResearch, setShieldsResearch, armorResearch, setArmorResearch] = research\n    \n    const backup = new Damage(JSON.parse(JSON.stringify(attacker)),\n                          JSON.parse(JSON.stringify(defender)),\n                          [ attackResearch, shieldsResearch, armorResearch]\n                          )\n    const cns = [\"middle\"]\n    if(!large) {cns.push(\"middle-row\")}\n    return <div className={cns.join(\" \")}>\n              <div>\n                <DPS attacker={attacker} defender={defender}\n                    attackResearch={attackResearch} armorResearch={armorResearch} shieldsResearch={shieldsResearch}\n                    setDefender={setDefender} setAttacker={setAttacker} units={units}  />\n\n                <Vitality defender={defender} setDefender={setDefender} units={units} armorResearch={armorResearch} shieldresearch={shieldsResearch} />\n                {canAttackTargetDefender(attacker?.weapon, defender) ? <div className={\"eliminator\"}>Eliminates in {backup.eliminate()} attack{backup.eliminate() === 1 ? \"\" : \"s\"}.</div> : null}\n              </div>\n              <div>\n                {attacker || defender ? <h2>Unit Upgrades</h2> :  <h2 style={{opacity: .2}}>Unit Upgrades</h2>  }\n                <AllUpgrades attacker={attacker} defender={defender} attackResearch={attackResearch} setAttackResearch={setAttackResearch}\n                      shieldsResearch={shieldsResearch} setShieldsResearch={setShieldsResearch} armorResearch={armorResearch} setArmorResearch={setArmorResearch} />\n              </div>\n           </div>\n\n  }\n}","import React from 'react';\nimport './App.css';\nimport {Attacker} from \"./components/Attacker/Attacker\"\nimport {Defender} from \"./components/Defender\"\nimport {Middle} from   \"./components/Middle\"\nimport {useUnits} from \"./components/UnitSelector/Unit\"\n\nfunction App() {\n  const [shieldsResearch, setShieldsResearch1] = React.useState(0)\n  const [armorResearch, setArmorResearch1] = React.useState(0)\n  const [attackResearch, setAttackResearch1] = React.useState(0);\n\n  const setShieldsResearch = (val) =>{\n    if(val >= 0 && val <= 10){\n      setShieldsResearch1(val)\n    }\n  }\n\n  const setArmorResearch = (val) =>{\n    if(val >= 0 && val <= 10){\n      setArmorResearch1(val)\n    }\n  }\n\n  const setAttackResearch = (val) =>{\n    if(val >= 0 && val <= 10){\n      setAttackResearch1(val)\n    }\n  }\n\n  const [autoSelected, setAutoSelected] = React.useState(false)\n\n  const [locked, loadingUnits] = useUnits()\n  const [units, setUnits] = React.useState(null)\n\n  const [attacker, setAttacker] = React.useState(null)\n  const [defender, setDefender] = React.useState(null)\n\n  const [width, setWindowWidth] = React.useState(0)\n   React.useEffect(() => { \n    const updateDimensions = () => {\n      const width = window.innerWidth\n      setWindowWidth(width)\n    }\n\n     updateDimensions();\n\n     window.addEventListener(\"resize\", updateDimensions);\n     return () => \n       window.removeEventListener(\"resize\",updateDimensions);\n    }, [])\n    \n\n  React.useEffect(() => {\n    if(locked){\n      setUnits(loadingUnits)\n    }\n  }, [locked, loadingUnits])\n\n\n  const equipWeapon = (attack) => {\n    setAttacker({\n      ...attacker,\n      weapon: attack\n    })\n  }\n\n  React.useEffect(() => {\n    setAutoSelected(false)\n  }, [attacker])\n\n  React.useEffect(() => {\n    const selectAttack = (att) => {\n      if(units){\n        if(!attacker) {\n          setAutoSelected(false)\n        } else {\n          if(!autoSelected) {\n            console.log(\"setting attack\")\n            setAutoSelected(true)\n          } \n          }\n        }\n    }\n    selectAttack(attacker)\n  }, [attacker, defender, units, autoSelected])\n\n  const large = width > 950;\n\n  const ainfo = <div className={\"container\"}>\n                  <div className={\"attacker\"}>\n                  <h1 style={{fontSize: \"1.7em\", textAlign:\"center\"}}>Attacker</h1>\n                  <Attacker\n                    attacker={attacker}\n                    defender={defender}\n                    setAttacker={setAttacker}\n                    units={units}\n                    equipWeapon={equipWeapon}\n                    />\n                    </div>\n                </div>;\n\n  const middle = <div className={\"container\"}>\n                  <Middle\n                    attacker={attacker}\n                    defender={defender}\n                    research={[attackResearch, setAttackResearch, shieldsResearch, setShieldsResearch, armorResearch, setArmorResearch]}\n                    setDefender={setDefender}\n                    setAttacker={setAttacker}\n                    equipWeapon={equipWeapon}\n                    units={units}\n                    large ={large}\n                  /></div>;\n\n  const dinfo = <div className={\"container\"}>\n                  <div className={\"defender\"}>\n                    <h1 style={{fontSize: \"1.7em\", textAlign:\"center\"}}>Defender</h1>\n                    <Defender unit={defender} \n                              setUnit={setDefender} \n                              units={units}/>\n                  </div> \n                </div>;\n\n          // \n    return (\n      <div className=\"App\">\n        \n          {large ? <div className={\"arena\"}>{ainfo} {middle} {dinfo} </div>: <>{middle} <div className={\"arena\"}>{ainfo} {dinfo} </div></>}\n          \n        \n      </div>\n    );\n}\n\n\n\nexport default App;\n","import React from 'react';\nimport Userfront from \"@userfront/react\";\n\n\nexport const Dashboard = () => {\n  Userfront.init(\"xbrx87bw\");\n  const SignupForm = Userfront.build({\n    toolId: \"ldnoak\"\n  });\n\n  return(\n    <>\n      <h2>Dashboard</h2>\n      <SignupForm />\n    </>\n  );\n}","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport {Dashboard} from \"./components/dashboard/Dashboard\"\nimport { BrowserRouter, Route, Switch } from 'react-router-dom';\n\nconst Purpose = () => <div className=\"App\">\n  <div className={\"container middle\"}>\n    <h1> Purpose </h1> \n      <div>Calculate the number of shots needed to take out a given unit. </div>\n    <h1>Usage</h1>\n      <ul>\n        <li>Select an attacker and defender.</li>\n        <li>Select upgrades (if desired).</li>\n        <li>Select starting health/shields.</li>\n      </ul>\n    <div>Calculations are based off <a href=\"https://liquipedia.net/starcraft2/Damage_Calculation#:~:text=Performing%20the%20Calculations%5Bedit%5D,*Splash*Hallucinated*Prismatic.&text=Defense%20Available%3A%20If%20the%20defender,Points%2C%20this%20equals%20Shield%20Defense.\">this resource</a></div>\n  </div>\n</div>\n\nReactDOM.render(\n  \n  <React.StrictMode>\n    <div className=\"wrapper\">\n      <div className={\"main-title\"}>\n        <div className={\"title\"}><a href = \"/\">SC2 Monobattle Calculator</a></div>\n          <div></div>\n          <div><a href=\"/purpose\">Purpose</a></div>\n      </div>\n      \n      <BrowserRouter>\n        <Switch>\n          <Route path=\"/dash\">\n            <Dashboard />\n          </Route>\n          <Route path=\"/purpose\">\n            <Purpose />\n          </Route>\n          <Route path=\"/\">\n            <App />\n          </Route>\n        </Switch>\n      </BrowserRouter>\n\n      <div className={\"main-title\"}>\n          <div>Art Assets: <a href=\"https://www.youtube.com/user/CarbotAnimations\">Carbots</a> | <a href=\"https://starcraft2.com/en-us/\">StarCraft 2</a></div>\n      </div>\n    </div>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\n// serviceWorker.unregister();\n"],"sourceRoot":""}