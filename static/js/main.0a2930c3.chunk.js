(this.webpackJsonpsc2=this.webpackJsonpsc2||[]).push([[0],{44:function(e,t,n){},45:function(e,t,n){},47:function(e,t,n){},49:function(e,t,n){},50:function(e,t,n){},51:function(e,t,n){},52:function(e,t,n){},76:function(e,t,n){"use strict";n.r(t);var a=n(1),c=n.n(a),s=n(36),r=n.n(s),i=(n(44),n(2)),l=n(3),d=(n(45),n(13)),o=n(17),j=n(20),u=n(18),h=n(19),b=n(23),O=n.n(b),v=n(37),f=(n(47),n(0)),m=function(e){var t=e.unit,n=t?Object(f.jsxs)("div",{className:"unit-card",children:[Object(f.jsx)("div",{className:"unit-name",children:t.name}),Object(f.jsxs)("div",{style:{display:"flex"},children:[Object(f.jsx)("div",{style:{minWidth:"200px",minHeight:"200px"},children:Object(f.jsx)(p,{unit:t})}),Object(f.jsx)("div",{className:"attributes",children:e.children})]})]}):null;return Object(f.jsx)(f.Fragment,{children:n})},x=function(e){return{backgroundSize:"contain",backgroundRepeat:"no-repeat",backgroundPosition:"right",backgroundImage:"url(".concat(e,")"),minWidth:"50px"}},p=function(e){var t=e.unit,n=e.label;return Object(f.jsx)("div",{style:x(t.img),className:"unit-img",children:Object(f.jsx)("div",{className:"unit-img-label",children:Object(f.jsx)("h1",{children:n})})})},g=(n(49),{terran:{icon:"/marine.png",production:{barracks:"/barracks.png",factory:"/factory.png",starport:"/starport.png"}},zerg:{icon:"/zergling.png",production:{}},protoss:{icon:"/zealot.png",production:{roboticsFacility:"/robo.png"}}}),k=function(e){var t=e.replace(/([A-Z])/g," $1");return t.charAt(0).toUpperCase()+t.slice(1)},N=function(e){var t,n=e.display,a=e.randomize,c=e.randomText;return t=n?Object(f.jsx)("span",{onClick:function(){return a()},children:c||Object(f.jsx)(f.Fragment,{children:"\ud83c\udfb2"})}):Object(f.jsx)("button",{children:"Loading..."}),Object(f.jsx)("div",{className:"random-button",children:t})},w=function(e){e.unit;var t=e.setUnit;return Object(f.jsx)("div",{className:"reset-button",onClick:function(){return t(null)},children:"\u21bb"})},y=function(e){var t=e.unit,n=e.setUnit,a=e.randomizeUnit,c=e.display;return Object(f.jsxs)("div",{className:"button-group",children:[Object(f.jsx)(N,{display:c,randomize:a}),t?Object(f.jsx)(w,{setUnit:n}):null]})},S=function(e,t,n){var a=["unit-selection"];return e.map((function(e,c){var s=a;return s=(null===t||void 0===t?void 0:t.name)===e.name?[].concat(a,["active-unit"]):a,Object(f.jsx)("div",{onClick:function(){return n(e)},className:s.join(" "),style:x(e.img),children:Object(f.jsx)("header",{children:Object(f.jsx)("h1",{children:e.name})})},c)}))},F=function(e){var t=e.structure,n=e.path,a=e.units,s=e.unit,r=e.setUnit,i=c.a.useState(!0),d=Object(l.a)(i,2),o=d[0],j=d[1],u=a?a.filter((function(e){return e.structure===t})):null,h=o?Object(f.jsx)(f.Fragment,{}):Object(f.jsx)("div",{className:"units-selector",children:S(u,s,r)});return a?Object(f.jsxs)("div",{children:[Object(f.jsx)("div",{className:"production-facility",style:x(n),onClick:function(){return j(!o)},children:Object(f.jsx)("header",{children:Object(f.jsx)("h1",{children:k(t)})})}),Object(f.jsx)("div",{children:h})]}):null},D=function(e){var t=e.data,n=e.units,a=e.unit,s=e.setUnit,r=c.a.useState(!0),d=Object(l.a)(r,2),o=d[0],j=d[1];return Object(f.jsxs)("div",{children:[Object(f.jsxs)("div",{onClick:function(){return j(!o)},children:[Object(f.jsx)("div",{}),Object(f.jsx)("div",{style:Object(i.a)(Object(i.a)({},x(t.icon)),{},{height:"150px",backgroundPosition:"left"})})]}),o?null:Object(f.jsx)("div",{children:Object.entries(t.production).map((function(e){var t=Object(l.a)(e,2),c=t[0],r=t[1];return Object(f.jsx)(F,{structure:c,path:r,units:n,unit:a,setUnit:s},c)}))})]})},A=function(e){return e.showFactions?"hide \u27f0 units":"show \u27f1 units"},C=function(e){var t=[e.setUnit,e.currentUnit,e.units,e.showTags],n=t[0],a=t[1],s=t[2],r=t[3],i=c.a.useState([]),d=Object(l.a)(i,2),o=d[0],j=d[1],u=c.a.useState(!1),b=Object(l.a)(u,2),O=b[0],v=b[1],x=c.a.useState(""),p=Object(l.a)(x,2),k=p[0],N=p[1],w=Object(f.jsx)("input",{className:"unit-search",type:"search",placeholder:"...unit name",onChange:function(e){return N(e.target.value)},value:k}),F=function(e){o.includes(e)?j(o.filter((function(t){return t!==e}))):j([].concat(Object(h.a)(o),[e]))},C=function(e){var t=e.tag,n=e.highlight,a=["tagged-attribute"];return a.push(n&&o.includes(t)?"used-tag":""),Object(f.jsx)("div",{className:a.join(" "),onClick:function(){return F(t)},children:t},t)},R=Object(f.jsxs)("div",{children:[Object(f.jsxs)("div",{className:"input-area",children:[w," ",Object(f.jsx)(y,{display:s,unit:a,setUnit:n,randomizeUnit:function(){var e;n((e=s)[Math.floor(Math.random()*e.length)])}})]}),Object(f.jsxs)("div",{className:"row search-by-tag",children:[o.map((function(e){return Object(f.jsx)(C,{tag:e,toggle:F},e)})),o.length>0?Object(f.jsx)("h1",{className:"clear-tags",onClick:function(){return j([])},children:"\ud83d\udeab"}):null]}),Object(f.jsxs)("div",{children:[Object(f.jsx)(m,{unit:a,setUnit:n,children:Object(f.jsx)("div",{className:"attributes",children:r&&(null===a||void 0===a?void 0:a.types.map((function(e,t){return Object(f.jsx)(C,{tag:e,toggle:F,highlight:!0},e)})))})}),e.children]})]});if(s){var U=Object(f.jsx)("div",{className:"button column",onClick:function(){j([]),N("")},children:Object(f.jsx)("div",{children:" Clear filters"})});if(k.length>0||o.length>0){var J=s.filter((function(e){var t=!1;return o.forEach((function(n){e.types.includes(n)||(t=!0)})),!t})).filter((function(e){return e.name.toLowerCase().includes(k.toLowerCase())}));return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(f.Fragment,{children:R}),S(J,a,n).length>0?Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("h1",{style:{fontSize:"2em"},children:"Filtered Results:"}),S(J,a,n)," "]}):Object(f.jsx)(f.Fragment,{}),U]})}return Object(f.jsxs)(f.Fragment,{children:[R,Object(f.jsx)("div",{onClick:function(){return v(!O)},className:"selector",style:{textAlign:"center",fontSize:"1.5em"},children:Object(f.jsx)(A,{showFactions:O})}),O?Object.entries(g).map((function(e){var t=Object(l.a)(e,2),c=t[0],r=t[1];return Object(f.jsx)("div",{className:"faction",children:Object(f.jsx)(D,{data:r,label:c,units:s,unit:a,setUnit:n})},c)})):null]})}return"Loading"};function R(e,t){var n=new Set(e),a=new Set(t),c=new Set(Object(h.a)(n).filter((function(e){return a.has(e)})));return Array.from(c)}var U=function(e,t){return!(!e||!t)&&R(R(e.targets,t.types),["Ground","Air"]).length>0},J=function e(t,n,a){var c=this,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;if(Object(d.a)(this,e),this.totalDamage=function(){var e=c.def,t=c.att;return e.base.shields>0&&c.damageInflicted(t,e)>e.base.shields+c.armorDefense(e)?c.damageInflicted(t,e)-c.armorDefense(e):c.damageInflicted(t,e)},this.eliminate=function(){var t=c.oneShot();if(!t)return 0;for(var n=1;(null===(a=t)||void 0===a?void 0:a.health)>0;){var a;if(n++,t){var s=Object(i.a)(Object(i.a)({},c.def),{},{base:Object(i.a)(Object(i.a)({},c.def.base),{},{health:t.health,shields:t.shields})});t=new e(c.att,JSON.parse(JSON.stringify(s)),[c.research.attack,c.research.shields,c.research.armor]).oneShot()}}return n},this.oneShot=function(){var t,n,a=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];a?(t=JSON.parse(JSON.stringify(c.att)),n=JSON.parse(JSON.stringify(c.def))):(t=c.att,n=c.def);var s,r=null;if(void 0===t.weapon||!n)return"\ud83d\udc40 no attacker or attack not found";if(!U(t.weapon,n))return"can't shoot";if(n.base.health>0)for(var i=0,l=0;l<t.weapon.repeats;l++){var d;console.log("repaeting attack",t.weapon);var o=new e(t,JSON.parse(JSON.stringify(n)),[c.research.attack,c.research.shields,c.research.armor]),j=o.totalDamage();if((null===(d=n.base)||void 0===d?void 0:d.shields)>0?j<=n.base.shields?(n.base.shields-=j,s="".concat(j," to shields. (").concat(n.base.shields," remaining)")):(n.base.shields=0,n.base.health-=j-n.base.shields,s="".concat(j," has overloaded shields. (").concat(n.base.health," health remaining)")):(n.base.health-=j,s="".concat(j," damage. (").concat(n.base.health," HP)")),i+=j,n.base.health<0){var u=(100*-n.base.health/i).toFixed(1);s+=" (".concat(u,"% attack wasted)")}r={health:n.base.health,shields:n.base.shields,totalDamage:i,log:s}}return console.log("results",r),r},!t||!n)return null;var r=Object(l.a)(a,3),o=r[0],j=r[1],u=r[2];this.research={attack:o,armor:u,shields:j},this.att=JSON.parse(JSON.stringify(t)),this.def=JSON.parse(JSON.stringify(n));var h=1,b=1,O=1,v=900,f=1;this.bonusDamage=function(){return c.att.weapon.bonuses.filter((function(e){return c.def.types.includes(e.to)})).reduce((function(e,t){return e+t.baseDamage+t.researchBonus*c.research.attack}),0)},this.damageDealt=function(){var e,t=null===(e=c.att)||void 0===e?void 0:e.weapon;return c.att&&c.def&&t?t.baseDamage+c.research.attack*t.researchBonus+c.bonusDamage():""},this.armorDefense=function(){return c.def.base.armor+c.research.armor},this.defenseAvailable=function(){var e;return(null===(e=c.def.base)||void 0===e?void 0:e.shields)>0?c.research.shields:c.armorDefense(c.def)},this.defenseApplied=function(){return c.defenseAvailable()*h*(2-b)},this.damageReceived=function(){return c.damageDealt()*O*b*f-c.defenseApplied()},this.damageCapped=function(e,t){return Math.min(c.damageReceived(e,t),v*O*b+900*(1-h))},this.damageInflicted=function(e,t){return Math.max(.5,c.damageCapped(e,t)-s)}},z=(n(50),function(e){Object(j.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(d.a)(this,n),(a=t.call(this,e)).state={error:null,errorInfo:null},a}return Object(o.a)(n,[{key:"componentDidCatch",value:function(e,t){this.setState({error:e,errorInfo:t})}},{key:"render",value:function(){return this.state.errorInfo?Object(f.jsxs)("div",{children:[Object(f.jsx)("h2",{children:"Something went wrong."}),Object(f.jsxs)("details",{style:{whiteSpace:"pre-wrhap"},children:[this.state.error&&this.state.error.toString(),Object(f.jsx)("br",{}),this.state.errorInfo.componentStack]})]}):this.props.children}}]),n}(c.a.Component)),M=function(e){var t=e.attack,n=e.defender,a=e.textstyle;return t.bonuses.map((function(e,t){var c,s=Object(f.jsxs)(f.Fragment,{children:["Anti-",e.to,":"]}),r=Object(f.jsxs)(f.Fragment,{children:[e.baseDamage," (+",e.researchBonus,")"]});return c=n?n.types.includes(e.to)?Object(f.jsxs)("span",{children:[r," \ud83c\udfaf"]}):Object(f.jsx)("span",{style:{textDecoration:"wavy line-through red"},children:r}):Object(f.jsx)("span",{children:r}),Object(f.jsxs)("div",{children:[s,Object(f.jsx)("span",{className:a,children:c})]},t)}))},E=function(e){var t=e.animate;return e.display?t?Object(f.jsx)("span",{className:"bullet",children:"\u27a1"}):Object(f.jsx)(f.Fragment,{children:"\u27a1"}):Object(f.jsx)(f.Fragment,{})},I=function(e){var t=e.attacker,n=e.defender,a=e.setAttackingWeapon;if(!t)return null;var c=function(e){var c,s=e.attack,r=e.available,i=e.selected,l=[];l.push((null===t||void 0===t||null===(c=t.weapon)||void 0===c?void 0:c.name)===(null===s||void 0===s?void 0:s.name)?"main-weapon":"other-choice"),l.push(r?"attack-available":"attack-unavailable");var d=["attack-name"];return d.push(r?"alt-weapon":"unavailable"),d.push(r&&(t.weapon?"":"pulse")),console.log("attacks",d),Object(f.jsx)("div",{onClick:function(){return a(s)},className:l.join(" "),children:Object(f.jsx)(f.Fragment,{children:Object(f.jsxs)("div",{className:d.join(" "),children:[Object(f.jsx)(E,{animate:d.includes("pulse"),display:!0}),s.name," ",s.repeats>1?Object(f.jsxs)(f.Fragment,{children:["(x ",s.repeats,")"]}):null,i?Object(f.jsxs)("div",{children:[Object(f.jsxs)(f.Fragment,{children:["Base Damage: ",Object(f.jsxs)("span",{className:d.includes("pulse")?"bullet":"",children:[s.baseDamage," (+",s.researchBonus,")"]})]}),Object(f.jsx)(M,{attack:s,defender:n,textstyle:"yellow"})]}):null]})})})},s=null===t||void 0===t?void 0:t.attacks.map((function(e){var a=U(e,n);return Object(f.jsx)("div",{children:Object(f.jsx)(c,{attack:e,available:a,selected:e===t.weapon})},e.name)}));return Object(f.jsxs)("div",{className:"attacks",children:[Object(f.jsx)("h1",{children:t.attacks.length>0?"Attacks":"Pacifist"}),t?s:null]})},B=function(e){var t=e.attacker,n=e.defender,a=e.setAttacker,c=e.units;return Object(f.jsx)(z,{children:Object(f.jsx)(C,{setUnit:a,currentUnit:t,units:c,children:Object(f.jsx)(I,{attacker:t,setAttackingWeapon:function(e){return e!==t.weapon?a(Object(i.a)(Object(i.a)({},t),{},{weapon:e})):a(Object(i.a)(Object(i.a)({},t),{},{weapon:null})),null},defender:n})})})},L=function(e){var t=e.unit,n=e.setUnit,a=e.units;return Object(f.jsx)(C,{setUnit:n,currentUnit:t,units:a,showTags:!0})},P=(n(51),{attack:"/attack.png",armor:"/armor.png",shields:"/shield.png"}),W=function(e){var t=e.researchKind,n=e.value,a=e.updateResearch,c=function(e){a(n+e)};if(null===n)return Object(f.jsx)(f.Fragment,{});var s=n>0?"can-change":"locked",r=n<10?"can-change":"locked";return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("div",{className:"research",children:Object(f.jsx)("div",{className:"incrementer",children:Object(f.jsxs)("div",{className:"research-img",style:Object(i.a)(Object(i.a)({},x(P[t])),{},{backgroundPosition:"center"}),children:[Object(f.jsx)("div",{"aria-label":"Increment value",onClick:function(){return c(1)},className:r,children:"   \u2a01 "}),Object(f.jsx)("h1",{children:n}),Object(f.jsx)("div",{"aria-label":"Decrement value",onClick:function(){return c(-1)},className:s,children:" \u2296  "})]})})})," "]})},T=(n(52),function(e,t){Array.from(document.getElementsByClassName(e)).forEach((function(e){t?e.classList.add("pulse"):e.classList.remove("pulse")}))}),K=function(e,t){return null===e||void 0===e?void 0:e.attacks.filter((function(e){return U(e,t)}))},q=function(e,t){return K(e,t).filter((function(e){return e})).length>0},H=function(e){var t,n,a,c=e.attacker,s=e.defender,r=e.attackResearch,l=e.shieldsResearch,d=e.armorResearch,o=e.setDefender,j=e.setAttacker,u=e.units,h=new J(c,s,[r,l,d]),b=["button"];(null===c||void 0===c?void 0:c.weapon)&&s?(b.push("active"),T("alt-weapon",!1),U(c.weapon,s)?(null===(a=h)||void 0===a?void 0:a.oneShot())?(console.log("oneshot",h.oneShot()),n=Object(f.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[Object(f.jsx)("div",{style:{fontSize:"1.5em"},children:"Damage:"})," ",Object(f.jsxs)("div",{children:["\u2694\ufe0f ",h.oneShot().totalDamage," \ud83d\udee1"]})]})):n=Object(f.jsx)(f.Fragment,{children:"Victory (reset)"}):(n=Object(f.jsxs)(f.Fragment,{children:[c.weapon.name," cannot target ",s.name]}),b.push("inactive"))):c&&s?(b.push("inactive"),q(c,s)?(console.log("attacker: )",K(c,s)),n=Object(f.jsx)("span",{children:"\u2b05 Select a valid attack"}),b.push("pulse"),T("alt-weapon",!0)):(b.push("invalid"),n=Object(f.jsxs)(f.Fragment,{children:[c.name," can't attack ",s.name]}),t=!0)):(b.push("waiting"),c||s||b.push("pulse"),n=Object(f.jsxs)("div",{children:[Object(f.jsx)("div",{children:"Select: "}),Object(f.jsx)("div",{children:c?null:Object(f.jsxs)("div",{className:"attacker row",children:[Object(f.jsx)(N,{display:u,randomize:function(){return j(u[Math.floor(Math.random()*u.length)])},randomText:"\ud83c\udfb2  \u2b05 Attacker"}),"  "]})}),Object(f.jsx)("div",{children:s?null:Object(f.jsxs)("div",{className:"defender row",children:[Object(f.jsx)(N,{display:u,position:o,randomize:function(){return o(u[Math.floor(Math.random()*u.length)])},randomText:"Defender \u27a1 \ud83c\udfb2 "})," "]})})]}));var O=function(){if(c&&s){var e=h.oneShot(),t=s;if(e&&c.weapon){for(var n=0;n<c.weapon.repeats;n++){var a=h.oneShot();a&&(t=Object(i.a)(Object(i.a)({},t),{},{base:Object(i.a)(Object(i.a)({},t.base),{},{health:a.health,shields:a.shields})})),h=new J(JSON.parse(JSON.stringify(c)),JSON.parse(JSON.stringify(t)),[r,l,d])}o(t)}else(null===s||void 0===s?void 0:s.name)&&o(u.find((function(e){return e.name===s.name})))}};return Object(f.jsxs)("div",{className:"DPS",children:[Object(f.jsx)("div",{children:Object(f.jsx)("span",{className:b.join(" "),onClick:function(){if(c)if(console.log("attakcer",c),q(c,s))if(console.log("valid attack exists"),c.weapon)U(c.weapon,s)&&O();else{var e=K(c,s);console.log("attacks from attacker",e),j(Object(i.a)(Object(i.a)({},c),{},{weapon:e[0]}))}else console.log("no attack exists");else console.log("no attacker",c)},children:n})}),t?Object(f.jsx)(f.Fragment,{children:Object(f.jsx)("div",{className:"button",children:Object(f.jsx)(N,{display:u,position:o,randomize:function(){o(u[Math.floor(Math.random()*u.length)]),j(u[Math.floor(Math.random()*u.length)])},randomText:"Reroll \ud83c\udfb2 Units"})})}):null]})},G=function(e){var t,n=e.defender,a=e.units,s=e.setDefender,r=(e.shieldResearch,e.armorResearch),d=null===a||void 0===a||null===(t=a.find((function(e){return(null===n||void 0===n?void 0:n.name)===e.name})))||void 0===t?void 0:t.base,o=(null===n||void 0===n?void 0:n.base.health)/(null===d||void 0===d?void 0:d.health),j=o>6/7?"green":o>4/7?"yellow":o>2/7?"orange":"red",u=function(e,t){var a=Object(i.a)({},n.base);a[t]=parseInt(e),console.log("newBase",a),s(Object(i.a)(Object(i.a)({},n),{},{base:Object(i.a)({},a)}))};c.a.useEffect((function(){}),[n]);var h=function(e){var t=e.val,n=e.updater,a=e.attr,s=e.followup,r=c.a.useState(t),i=Object(l.a)(r,2),d=i[0],o=i[1],j=c.a.useState(!1),u=Object(l.a)(j,2),h=u[0],b=u[1],O=h?{justifyContent:"space-evenly"}:null;return Object(f.jsxs)("div",{className:"row astlye",style:O,children:[h?Object(f.jsxs)("div",{className:"row",children:[Object(f.jsx)("input",{type:"text",value:d,onChange:function(e){return o(e.target.value)},style:{width:"50px"}}),Object(f.jsx)("div",{onClick:function(){b(!1),n(d,a)},children:"\u2705"}),Object(f.jsx)("div",{onClick:function(){o(t),b(!1)},children:"\u274c"})]}):Object(f.jsx)("div",{style:{border:"3px solid",padding:"3px"},onClick:function(){return b(!0)},children:d}),Object(f.jsxs)("div",{children:["\xa0",s]})]})},b=Object(f.jsx)("div",{className:"research-img",style:Object(i.a)(Object(i.a)({},x("/armor.png")),{},{backgroundPosition:"center",textAlign:"center"}),children:r});return Object(f.jsxs)(f.Fragment,{children:["  ",n?Object(f.jsx)(f.Fragment,{children:Object(f.jsx)("div",{className:"vitality",children:Object(f.jsx)("div",{className:"avatar",children:Object(f.jsx)(p,{unit:n,label:Object(f.jsxs)("div",{className:"vitality-stats",children:[d.shields?Object(f.jsx)(f.Fragment,{children:Object(f.jsx)("div",{className:"shields",children:Object(f.jsx)("div",{children:Object(f.jsx)(h,{val:n.base.shields,updater:u,attr:"shields",followup:Object(f.jsxs)(f.Fragment,{children:[" / ",d.shields,"\ud83e\uddca"]})})})})}):null,Object(f.jsx)("div",{className:"health",children:Object(f.jsx)("div",{children:Object(f.jsx)("span",{style:{color:j},children:Object(f.jsx)(h,{val:n.base.health,updater:u,attr:"health",followup:Object(f.jsxs)(f.Fragment,{children:[" / ",d.health," \u2665\ufe0f"]})})})})}),Object(f.jsxs)("div",{className:"row",children:[Object(f.jsxs)("div",{children:[n.base.armor+n.research.armor*r," \ud83d\udee1"]}),"= ",Object(f.jsx)(h,{val:n.base.armor,updater:u,attr:"armor"})," + ",Object(f.jsx)(f.Fragment,{children:b})]}),Object(f.jsx)("div",{style:{textAlign:"right"},children:n.base!==d?Object(f.jsx)("span",{onClick:function(){return s(null===a||void 0===a?void 0:a.find((function(e){return(null===n||void 0===n?void 0:n.name)===e.name})))},children:"Reset"}):null})]})})})})}):null]})},V=function(e){var t,n=e.attacker,a=e.defender,c=e.attackResearch,s=e.setAttackResearch,r=e.shieldsResearch,i=e.setShieldsResearch,l=e.armorResearch,d=e.setArmorResearch,o=n&&a?new J(n,a,[c,r,l]):null,j=(null===n||void 0===n||null===(t=n.attacks)||void 0===t?void 0:t.filter((function(e){return U(e,a)})).length)>0,u=o?j&&!o.damageDealt()?"\u2b05":j&&o.damageDealt()?Object(f.jsxs)("div",{className:"attacker-damage",children:[Object(f.jsx)("div",{children:o.damageDealt()}),Object(f.jsx)("div",{children:"\u2694\ufe0f"})]}):a?Object(f.jsx)("span",{className:"fail",children:"\ud83e\udd4a"}):Object(f.jsx)(f.Fragment,{children:"\u2192"}):"";return Object(f.jsx)(f.Fragment,{children:Object(f.jsxs)("div",{className:"unit-stats",children:[Object(f.jsx)("div",{children:n?Object(f.jsx)(p,{unit:n,label:u}):null}),Object(f.jsx)("div",{children:n?Object(f.jsx)(W,{researchKind:"attack",updateResearch:s,value:c}):null}),Object(f.jsx)("div",{}),Object(f.jsx)("div",{}),Object(f.jsx)("div",{children:(null===a||void 0===a?void 0:a.base.shields)>=0?Object(f.jsx)(W,{researchKind:"shields",updateResearch:i,value:r}):null}),Object(f.jsx)("div",{children:(null===a||void 0===a?void 0:a.base.shields)?Object(f.jsx)(p,{unit:a,label:Object(f.jsxs)("div",{className:"attacker-damage",children:[Object(f.jsx)("div",{children:r}),Object(f.jsx)("div",{children:"\ud83e\uddca"})]})}):null}),Object(f.jsx)("div",{}),Object(f.jsx)("div",{children:a?Object(f.jsx)(W,{researchKind:"armor",updateResearch:d,value:l}):null}),Object(f.jsx)("div",{children:a?Object(f.jsx)(p,{unit:a,label:Object(f.jsx)("div",{className:"attacker-damage"})}):null})]})})},Z=function(e){var t=e.attacker,n=e.defender,a=e.research,c=e.setDefender,s=e.setAttacker,r=e.units,i=e.large;if(a&&r){var d=Object(l.a)(a,6),o=d[0],j=d[1],u=d[2],h=d[3],b=d[4],O=d[5],v=new J(JSON.parse(JSON.stringify(t)),JSON.parse(JSON.stringify(n)),[o,u,b]),m=["middle"];return i||m.push("middle-row"),Object(f.jsxs)("div",{className:m.join(" "),children:[Object(f.jsxs)("div",{children:[Object(f.jsx)(H,{attacker:t,defender:n,attackResearch:o,armorResearch:b,shieldsResearch:u,setDefender:c,setAttacker:s,units:r}),Object(f.jsx)(G,{defender:n,setDefender:c,units:r,armorResearch:b,shieldresearch:u}),U(null===t||void 0===t?void 0:t.weapon,n)?Object(f.jsxs)("div",{className:"eliminator",children:["Eliminates in ",v.eliminate()," attack",1===v.eliminate()?"":"s","."]}):null]}),Object(f.jsxs)("div",{children:[t||n?Object(f.jsx)("h2",{children:"Unit Upgrades"}):Object(f.jsx)("h2",{style:{opacity:.2},children:"Unit Upgrades"}),Object(f.jsx)(V,{attacker:t,defender:n,attackResearch:o,setAttackResearch:j,shieldsResearch:u,setShieldsResearch:h,armorResearch:b,setArmorResearch:O})]})]})}return r?"no rsearch":"or no units"};var $=function(){var e=c.a.useState(0),t=Object(l.a)(e,2),n=t[0],a=t[1],s=c.a.useState(0),r=Object(l.a)(s,2),d=r[0],o=r[1],j=c.a.useState(0),u=Object(l.a)(j,2),h=u[0],b=u[1],m=c.a.useState(!1),x=Object(l.a)(m,2),p=x[0],g=x[1],k=function(e){var t=c.a.useState(null),n=Object(l.a)(t,2),a=n[0],s=n[1],r=c.a.useState(!1),i=Object(l.a)(r,2),d=i[0],o=i[1];return c.a.useEffect((function(){o(!0),function(){var e=Object(v.a)(O.a.mark((function e(){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!d){e.next=2;break}return e.abrupt("return",[]);case 2:fetch("http://localhost:5000/api/units").then((function(e){return e.json()})).then((function(e){s(e.units)})).catch((function(e){console.error("error fetching",e)}));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}),[d]),[d,a]}(),N=Object(l.a)(k,2),w=N[0],y=N[1],S=c.a.useState(null),F=Object(l.a)(S,2),D=F[0],A=F[1],C=c.a.useState(null),R=Object(l.a)(C,2),U=R[0],J=R[1],z=c.a.useState(null),M=Object(l.a)(z,2),E=M[0],I=M[1],P=c.a.useState(0),W=Object(l.a)(P,2),T=W[0],K=W[1];c.a.useEffect((function(){var e=function(){var e=window.innerWidth;K(e)};return e(),window.addEventListener("resize",e),function(){return window.removeEventListener("resize",e)}}),[]),c.a.useEffect((function(){w&&A(y)}),[w,y]);var q=function(e){J(Object(i.a)(Object(i.a)({},U),{},{weapon:e}))};c.a.useEffect((function(){g(!1)}),[U]),c.a.useEffect((function(){D&&(U?p||(console.log("setting attack"),g(!0)):g(!1))}),[U,E,D,p]);var H=T>950,G=Object(f.jsx)("div",{className:"container",children:Object(f.jsxs)("div",{className:"attacker",children:[Object(f.jsx)("h1",{style:{fontSize:"1.7em",textAlign:"center"},children:"Attacker"}),Object(f.jsx)(B,{attacker:U,defender:E,setAttacker:J,units:D,equipWeapon:q})]})}),V=Object(f.jsx)("div",{className:"container",children:Object(f.jsx)(Z,{attacker:U,defender:E,research:[h,function(e){e>=0&&e<=10&&b(e)},n,function(e){e>=0&&e<=10&&a(e)},d,function(e){e>=0&&e<=10&&o(e)}],setDefender:I,setAttacker:J,equipWeapon:q,units:D,large:H})}),$=Object(f.jsx)("div",{className:"container",children:Object(f.jsxs)("div",{className:"defender",children:[Object(f.jsx)("h1",{style:{fontSize:"1.7em",textAlign:"center"},children:"Defender"}),Object(f.jsx)(L,{unit:E,setUnit:I,units:D})]})});return Object(f.jsx)("div",{className:"App",children:H?Object(f.jsxs)("div",{className:"arena",children:[G," ",V," ",$," "]}):Object(f.jsxs)(f.Fragment,{children:[V," ",Object(f.jsxs)("div",{className:"arena",children:[G," ",$," "]})]})})},Q=n(26),X=function(){Q.a.init("xbrx87bw");var e=Q.a.build({toolId:"ldnoak"});return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("h2",{children:"Dashboard"}),Object(f.jsx)(e,{})]})},Y=n(38),_=n(4);r.a.render(Object(f.jsx)(c.a.StrictMode,{children:Object(f.jsxs)("div",{className:"wrapper",children:[Object(f.jsxs)("div",{className:"main-title",children:[Object(f.jsx)("div",{className:"title",children:"SC2 Monobattle Calculator"}),Object(f.jsx)("div",{children:"Purpose"}),Object(f.jsx)("div",{children:"contact"})]}),Object(f.jsx)(Y.a,{children:Object(f.jsxs)(_.c,{children:[Object(f.jsx)(_.a,{path:"/dash",children:Object(f.jsx)(X,{})}),Object(f.jsx)(_.a,{path:"/",children:Object(f.jsx)($,{})})]})})]})}),document.getElementById("root"))}},[[76,1,2]]]);
//# sourceMappingURL=main.0a2930c3.chunk.js.map