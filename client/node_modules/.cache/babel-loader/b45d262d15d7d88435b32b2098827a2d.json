{"ast":null,"code":"var _jsxFileName = \"/Users/philbrockman/coding/sc2/client/src/components/Middle.js\",\n    _s2 = $RefreshSig$();\n\nimport React from \"react\";\nimport { Upgrade } from \"./Upgrade\";\nimport { canAttackTargetDefender, Damage } from \"./Attacker/Damage\";\nimport { UnitImg, inlineStyle } from './UnitSelector/Unit';\nimport { RandomButton } from \"./UnitSelector/UnitSelector\";\nimport \"./Middle.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst animateValidAttacks = (cname, keep) => {\n  Array.from(document.getElementsByClassName(cname)).forEach(elem => {\n    if (keep) {\n      elem.classList.add(\"pulse\");\n    } else {\n      elem.classList.remove(\"pulse\");\n    }\n  });\n};\n\nconst validAttacks = (attacker, defender) => {\n  return attacker === null || attacker === void 0 ? void 0 : attacker.attacks.filter(attack => {\n    return canAttackTargetDefender(attack, defender);\n  });\n};\n\nconst validAttackExists = (attacker, defender) => {\n  return validAttacks(attacker, defender).filter(item => item).length > 0;\n};\n\nconst DPS = ({\n  attacker,\n  defender,\n  attackResearch,\n  shieldsResearch,\n  armorResearch,\n  setDefender,\n  setAttacker,\n  units\n}) => {\n  let d = new Damage(attacker, defender, [attackResearch, shieldsResearch, armorResearch]);\n  const active = attacker === null || attacker === void 0 ? void 0 : attacker.weapon;\n  const cns = [\"button\"];\n  let doubleReroll;\n  let text;\n\n  if (active) {\n    cns.push(\"active\");\n    animateValidAttacks(\"alt-weapon\", false);\n\n    if (d.oneShot()) {\n      console.log(\"oneshot\", d.oneShot());\n      text = /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: \"flex\",\n          flexDirection: \"column\"\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            fontSize: \"1.5em\"\n          },\n          children: \"Damage:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 43,\n          columnNumber: 69\n        }, this), \" \", /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [\"\\u2694\\uFE0F \", d.oneShot().totalDamage, \" \\uD83D\\uDEE1\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 43,\n          columnNumber: 115\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 14\n      }, this);\n    } else {\n      text = /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: \"Victory (reset)\"\n      }, void 0, false);\n    }\n  } else {\n    if (attacker && defender) {\n      cns.push(\"inactive\");\n\n      if (validAttackExists(attacker, defender)) {\n        console.log('attacker: )', validAttacks(attacker, defender));\n        text = /*#__PURE__*/_jsxDEV(\"span\", {\n          children: \"\\u2B05 Select a valid attack\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 22\n        }, this);\n        cns.push(\"pulse\");\n        animateValidAttacks(\"alt-weapon\", true);\n      } else {\n        cns.push(\"invalid\");\n        text = /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [attacker.name, \" can't attack \", defender.name]\n        }, void 0, true);\n        doubleReroll = true;\n      }\n    } else {\n      cns.push(\"waiting\");\n\n      if (!attacker && !defender) {\n        cns.push(\"pulse\");\n      }\n\n      text = /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: \"Select: \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 18\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: !attacker ? /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"attacker row\",\n            children: [/*#__PURE__*/_jsxDEV(RandomButton, {\n              display: units,\n              randomize: () => setAttacker(units[Math.floor(Math.random() * units.length)]),\n              randomText: \"🎲  ⬅ Attacker\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 66,\n              columnNumber: 67\n            }, this), \"  \"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 66,\n            columnNumber: 35\n          }, this) : null\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: !defender ? /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"defender row\",\n            children: [/*#__PURE__*/_jsxDEV(RandomButton, {\n              display: units,\n              position: setDefender,\n              randomize: () => setDefender(units[Math.floor(Math.random() * units.length)]),\n              randomText: \"Defender ➡ 🎲 \"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 67,\n              columnNumber: 66\n            }, this), \" \"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 67,\n            columnNumber: 34\n          }, this) : null\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 13\n      }, this);\n    }\n  } // const resetDefender = () => {\n  //   if(defender?.name) {\n  //    setDefender(units.find(unit => unit.name === defender.name))\n  //    }\n  // }\n\n\n  const updateHealth = () => {\n    if (!attacker || !defender) return;\n    let newValues = d.oneShot();\n    let newDefender = defender;\n\n    if (newValues && attacker.weapon) {\n      for (var i = 0; i < attacker.weapon.repeats; i++) {\n        if (newValues.health > 0 || true) {\n          let newValues = d.oneShot();\n\n          if (newValues) {\n            newDefender = { ...newDefender,\n              base: { ...newDefender.base,\n                health: newValues.health,\n                shields: newValues.shields\n              }\n            };\n          }\n\n          d = new Damage(JSON.parse(JSON.stringify(attacker)), JSON.parse(JSON.stringify(newDefender)), [attackResearch, shieldsResearch, armorResearch]);\n        } else {\n          console.log(\">>>>>failed health chi\");\n        }\n      }\n\n      setDefender(newDefender);\n    } else {\n      resetDefender();\n    }\n  };\n\n  const callback = () => {\n    if (attacker) {\n      console.log('attakcer', attacker);\n\n      if (validAttackExists(attacker, defender)) {\n        console.log(\"valid attack exists\");\n\n        if (!attacker.weapon) {\n          const attacks = validAttacks(attacker, defender);\n          console.log('attacks from attacker', attacks);\n          setAttacker({ ...attacker,\n            weapon: attacks[0]\n          });\n        } else {\n          updateHealth();\n        }\n      } else {\n        console.log(\"no attack exists\");\n      }\n    } else {\n      console.log(\"no attacker\", attacker);\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"DPS\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(\"span\", {\n        className: cns.join(\" \"),\n        onClick: callback,\n        children: text\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 136,\n        columnNumber: 18\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 13\n    }, this), doubleReroll ? /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"button\",\n        children: /*#__PURE__*/_jsxDEV(RandomButton, {\n          display: units,\n          position: setDefender,\n          randomize: () => {\n            setDefender(units[Math.floor(Math.random() * units.length)]);\n            setAttacker(units[Math.floor(Math.random() * units.length)]);\n          },\n          randomText: \"Reroll 🎲 Units\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 138,\n          columnNumber: 41\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 138,\n        columnNumber: 15\n      }, this)\n    }, void 0, false) : null]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 135,\n    columnNumber: 10\n  }, this);\n};\n\n_c = DPS;\n\nconst Vitality = ({\n  defender,\n  units,\n  setDefender,\n  shieldResearch,\n  armorResearch\n}) => {\n  _s2();\n\n  var _units$find,\n      _s = $RefreshSig$();\n\n  const base = units === null || units === void 0 ? void 0 : (_units$find = units.find(unit => (defender === null || defender === void 0 ? void 0 : defender.name) === unit.name)) === null || _units$find === void 0 ? void 0 : _units$find.base;\n  const health = (defender === null || defender === void 0 ? void 0 : defender.base.health) / (base === null || base === void 0 ? void 0 : base.health);\n  const healthColor = health > 6 / 7 ? \"green\" : health > 4 / 7 ? \"yellow\" : health > 2 / 7 ? \"orange\" : \"red\";\n\n  const setAttribute = (val, attr) => {\n    const newBase = { ...defender.base\n    };\n    newBase[attr] = parseInt(val);\n    console.log('newBase', newBase);\n    setDefender({ ...defender,\n      base: { ...newBase\n      }\n    });\n  };\n\n  React.useEffect(() => {// console.log('defender', defender.base)\n  }, [defender]);\n\n  const UpdateAttr = ({\n    val,\n    updater,\n    attr,\n    followup\n  }) => {\n    _s();\n\n    const [holderValue, setHolderValue] = React.useState(val);\n    const [editing, setEditing] = React.useState(false);\n    const newStyle = editing ? {\n      justifyContent: \"space-evenly\"\n    } : null;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"row astlye\",\n      style: newStyle,\n      children: [editing ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"row\",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          value: holderValue,\n          onChange: e => setHolderValue(e.target.value),\n          style: {\n            width: \"50px\"\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 175,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          onClick: () => {\n            setEditing(false);\n            updater(holderValue, attr);\n          },\n          children: \"\\u2705\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 176,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          onClick: () => {\n            setHolderValue(val);\n            setEditing(false);\n          },\n          children: \"\\u274C\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 177,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 174,\n        columnNumber: 17\n      }, this) :\n      /*#__PURE__*/\n      //textDecoration: \"underline\"\n      _jsxDEV(\"div\", {\n        style: {\n          border: \"3px solid\",\n          padding: \"3px\"\n        },\n        onClick: () => setEditing(true),\n        children: holderValue\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 180,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [\"\\xA0\", followup]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 181,\n        columnNumber: 7\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 173,\n      columnNumber: 12\n    }, this);\n  }; // armorResearch, shieldResearch \n\n\n  _s(UpdateAttr, \"J0K6NBxJcSiwDHDJfoz+oRRe9D0=\");\n\n  const armorResearchImg = /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"research-img\",\n    style: { ...inlineStyle(\"/armor.png\"),\n      backgroundPosition: \"center\",\n      textAlign: \"center\"\n    },\n    children: armorResearch\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 186,\n    columnNumber: 28\n  }, this);\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [\"  \", defender ? /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"vitality\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"avatar\",\n          children: /*#__PURE__*/_jsxDEV(UnitImg, {\n            unit: defender,\n            label: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"vitality-stats\",\n              children: [base.shields ? /*#__PURE__*/_jsxDEV(_Fragment, {\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"shields\",\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    children: /*#__PURE__*/_jsxDEV(UpdateAttr, {\n                      val: defender.base.shields,\n                      updater: setAttribute,\n                      attr: \"shields\",\n                      followup: /*#__PURE__*/_jsxDEV(_Fragment, {\n                        children: [\" / \", base.shields, \"\\uD83E\\uDDCA\"]\n                      }, void 0, true)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 196,\n                      columnNumber: 20\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 196,\n                    columnNumber: 15\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 195,\n                  columnNumber: 13\n                }, this)\n              }, void 0, false) : null, /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"health\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  children: /*#__PURE__*/_jsxDEV(\"span\", {\n                    style: {\n                      color: healthColor\n                    },\n                    children: /*#__PURE__*/_jsxDEV(UpdateAttr, {\n                      val: defender.base.health,\n                      updater: setAttribute,\n                      attr: \"health\",\n                      followup: /*#__PURE__*/_jsxDEV(_Fragment, {\n                        children: [\" / \", base.health, \" \\u2665\\uFE0F\"]\n                      }, void 0, true)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 200,\n                      columnNumber: 56\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 200,\n                    columnNumber: 20\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 200,\n                  columnNumber: 15\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 199,\n                columnNumber: 13\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"row\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  children: [defender.base.armor + defender.research.armor * armorResearch, \" \\uD83D\\uDEE1\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 202,\n                  columnNumber: 36\n                }, this), \"= \", /*#__PURE__*/_jsxDEV(UpdateAttr, {\n                  val: defender.base.armor,\n                  updater: setAttribute,\n                  attr: \"armor\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 202,\n                  columnNumber: 111\n                }, this), \" + \", /*#__PURE__*/_jsxDEV(_Fragment, {\n                  children: armorResearchImg\n                }, void 0, false)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 202,\n                columnNumber: 13\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  textAlign: \"right\"\n                },\n                children: defender.base !== base ? /*#__PURE__*/_jsxDEV(\"span\", {\n                  onClick: () => setDefender(units === null || units === void 0 ? void 0 : units.find(unit => (defender === null || defender === void 0 ? void 0 : defender.name) === unit.name)),\n                  children: \"Reset\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 205,\n                  columnNumber: 15\n                }, this) : null\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 203,\n                columnNumber: 13\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 193,\n              columnNumber: 43\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 193,\n            columnNumber: 11\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 192,\n          columnNumber: 9\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 191,\n        columnNumber: 7\n      }, this)\n    }, void 0, false) : null]\n  }, void 0, true);\n};\n\n_s2(Vitality, \"OD7bBpZva5O2jO+Puf00hKivP7c=\");\n\n_c2 = Vitality;\n\nconst AllUpgrades = ({\n  attacker,\n  defender,\n  attackResearch,\n  setAttackResearch,\n  shieldsResearch,\n  setShieldsResearch,\n  armorResearch,\n  setArmorResearch\n}) => {\n  var _attacker$attacks;\n\n  let d = attacker && defender ? new Damage(attacker, defender, [attackResearch, shieldsResearch, armorResearch]) : null;\n  const targetable = (attacker === null || attacker === void 0 ? void 0 : (_attacker$attacks = attacker.attacks) === null || _attacker$attacks === void 0 ? void 0 : _attacker$attacks.filter(attack => canAttackTargetDefender(attack, defender)).length) > 0;\n  const attackerDamage = d ? targetable && !d.damageDealt() ? \"⬅\" : targetable && d.damageDealt() ? /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"attacker-damage\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      children: d.damageDealt()\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 222,\n      columnNumber: 40\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: \"\\u2694\\uFE0F\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 222,\n      columnNumber: 69\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 222,\n    columnNumber: 5\n  }, this) : defender ? /*#__PURE__*/_jsxDEV(\"span\", {\n    className: \"fail\",\n    children: \"\\uD83E\\uDD4A\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 224,\n    columnNumber: 11\n  }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: \"\\u2192\"\n  }, void 0, false) : \"\";\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"unit-stats\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: attacker ? /*#__PURE__*/_jsxDEV(UnitImg, {\n          unit: attacker,\n          label: attackerDamage\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 230,\n          columnNumber: 26\n        }, this) : null\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 230,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: attacker ? /*#__PURE__*/_jsxDEV(Upgrade, {\n          researchKind: \"attack\",\n          updateResearch: setAttackResearch,\n          value: attackResearch\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 231,\n          columnNumber: 28\n        }, this) : null\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 231,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 232,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 234,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: (defender === null || defender === void 0 ? void 0 : defender.base.shields) >= 0 ? /*#__PURE__*/_jsxDEV(Upgrade, {\n          researchKind: \"shields\",\n          updateResearch: setShieldsResearch,\n          value: shieldsResearch\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 236,\n          columnNumber: 43\n        }, this) : null\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 235,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: (defender === null || defender === void 0 ? void 0 : defender.base.shields) ? /*#__PURE__*/_jsxDEV(UnitImg, {\n          unit: defender,\n          label: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"attacker-damage\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              children: shieldsResearch\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 238,\n              columnNumber: 108\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: \"\\uD83E\\uDDCA\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 238,\n              columnNumber: 136\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 238,\n            columnNumber: 73\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 238,\n          columnNumber: 41\n        }, this) : null\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 238,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 240,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: defender ? /*#__PURE__*/_jsxDEV(Upgrade, {\n          researchKind: \"armor\",\n          updateResearch: setArmorResearch,\n          value: armorResearch\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 241,\n          columnNumber: 27\n        }, this) : null\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 241,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: defender ? /*#__PURE__*/_jsxDEV(UnitImg, {\n          unit: defender,\n          label: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"attacker-damage\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 242,\n            columnNumber: 58\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 242,\n          columnNumber: 26\n        }, this) : null\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 242,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 229,\n      columnNumber: 5\n    }, this)\n  }, void 0, false);\n};\n\n_c3 = AllUpgrades;\nexport const Middle = ({\n  attacker,\n  defender,\n  research,\n  setDefender,\n  setAttacker,\n  units,\n  large\n}) => {\n  if (!research || !units) {\n    return units ? \"no rsearch\" : \"or no units\";\n  } else {\n    const [attackResearch, setAttackResearch, shieldsResearch, setShieldsResearch, armorResearch, setArmorResearch] = research;\n    const backup = new Damage(JSON.parse(JSON.stringify(attacker)), JSON.parse(JSON.stringify(defender)), [attackResearch, shieldsResearch, armorResearch]);\n    const cns = [\"middle\"];\n\n    if (!large) {\n      cns.push(\"middle-row\");\n    }\n\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: cns.join(\" \"),\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(DPS, {\n          attacker: attacker,\n          defender: defender,\n          attackResearch: attackResearch,\n          armorResearch: armorResearch,\n          shieldsResearch: shieldsResearch,\n          setDefender: setDefender,\n          setAttacker: setAttacker,\n          units: units\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 263,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(Vitality, {\n          defender: defender,\n          setDefender: setDefender,\n          units: units,\n          armorResearch: armorResearch,\n          shieldresearch: shieldsResearch\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 267,\n          columnNumber: 17\n        }, this), canAttackTargetDefender(attacker === null || attacker === void 0 ? void 0 : attacker.weapon, defender) ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"eliminator\",\n          children: [\"Eliminates in \", backup.eliminate(), \" attack\", backup.eliminate() === 1 ? \"\" : \"s\", \".\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 268,\n          columnNumber: 72\n        }, this) : null]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 262,\n        columnNumber: 15\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [attacker || defender ? /*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"Unit Upgrades\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 271,\n          columnNumber: 41\n        }, this) : /*#__PURE__*/_jsxDEV(\"h2\", {\n          style: {\n            opacity: .2\n          },\n          children: \"Unit Upgrades\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 271,\n          columnNumber: 67\n        }, this), /*#__PURE__*/_jsxDEV(AllUpgrades, {\n          attacker: attacker,\n          defender: defender,\n          attackResearch: attackResearch,\n          setAttackResearch: setAttackResearch,\n          shieldsResearch: shieldsResearch,\n          setShieldsResearch: setShieldsResearch,\n          armorResearch: armorResearch,\n          setArmorResearch: setArmorResearch\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 272,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 270,\n        columnNumber: 15\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 261,\n      columnNumber: 12\n    }, this);\n  }\n};\n_c4 = Middle;\n\nvar _c, _c2, _c3, _c4;\n\n$RefreshReg$(_c, \"DPS\");\n$RefreshReg$(_c2, \"Vitality\");\n$RefreshReg$(_c3, \"AllUpgrades\");\n$RefreshReg$(_c4, \"Middle\");","map":{"version":3,"sources":["/Users/philbrockman/coding/sc2/client/src/components/Middle.js"],"names":["React","Upgrade","canAttackTargetDefender","Damage","UnitImg","inlineStyle","RandomButton","animateValidAttacks","cname","keep","Array","from","document","getElementsByClassName","forEach","elem","classList","add","remove","validAttacks","attacker","defender","attacks","filter","attack","validAttackExists","item","length","DPS","attackResearch","shieldsResearch","armorResearch","setDefender","setAttacker","units","d","active","weapon","cns","doubleReroll","text","push","oneShot","console","log","display","flexDirection","fontSize","totalDamage","name","Math","floor","random","updateHealth","newValues","newDefender","i","repeats","health","base","shields","JSON","parse","stringify","resetDefender","callback","join","Vitality","shieldResearch","find","unit","healthColor","setAttribute","val","attr","newBase","parseInt","useEffect","UpdateAttr","updater","followup","holderValue","setHolderValue","useState","editing","setEditing","newStyle","justifyContent","e","target","value","width","border","padding","armorResearchImg","backgroundPosition","textAlign","color","armor","research","AllUpgrades","setAttackResearch","setShieldsResearch","setArmorResearch","targetable","attackerDamage","damageDealt","Middle","large","backup","eliminate","opacity"],"mappings":"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","sourcesContent":["import React from \"react\"\nimport {Upgrade} from \"./Upgrade\"\nimport {canAttackTargetDefender, Damage} from \"./Attacker/Damage\"\nimport { UnitImg, inlineStyle } from './UnitSelector/Unit'\nimport {RandomButton} from \"./UnitSelector/UnitSelector\"\nimport \"./Middle.css\"\n \nconst animateValidAttacks = (cname, keep) => {\n  Array.from(document.getElementsByClassName(cname)).forEach(elem => {\n    if(keep){\n      elem.classList.add(\"pulse\") \n    } else{\n      elem.classList.remove(\"pulse\") \n    }\n  })\n}\n\n\nconst validAttacks = (attacker, defender) => {\n  return attacker?.attacks.filter(attack => {\n    return canAttackTargetDefender(attack, defender)\n  })\n}\n\nconst validAttackExists = (attacker, defender) => {\n  return validAttacks(attacker, defender).filter(item => item).length > 0\n}\n\n\nconst DPS = ({attacker, defender,  attackResearch, shieldsResearch, armorResearch, setDefender, setAttacker, units}) => {\n  let d = new Damage(attacker, defender, [ attackResearch, shieldsResearch, armorResearch])\n  const active = attacker?.weapon\n  const cns = [\"button\"];\n\n  \n  let doubleReroll\n  let text \n  if(active){\n    cns.push(\"active\")\n    animateValidAttacks(\"alt-weapon\", false)\n    if(d.oneShot()){\n      console.log(\"oneshot\", d.oneShot())\n      text = <div style={{display: \"flex\", flexDirection:\"column\"}}><div style={{fontSize:\"1.5em\"}}>Damage:</div> <div>⚔️ {d.oneShot().totalDamage} 🛡</div></div>\n    } else {\n      text = <>Victory (reset)</>\n    }\n  } else {\n    if (attacker && defender) {\n      cns.push(\"inactive\")\n      if(validAttackExists(attacker, defender)){\n              console.log('attacker: )', validAttacks(attacker, defender) )\n              text = <span>⬅ Select a valid attack</span>\n              cns.push(\"pulse\")\n              animateValidAttacks(\"alt-weapon\", true)\n      } else{\n        cns.push(\"invalid\")\n        text = <>{attacker.name} can't attack {defender.name}</>\n        doubleReroll=true\n      }\n\n    } else {\n      cns.push(\"waiting\")\n      if (!attacker && !defender) {cns.push(\"pulse\")}\n      text= <div>\n                 <div>Select: </div>\n                <div>{!attacker ? <div className={\"attacker row\"}><RandomButton display={units} randomize={() => setAttacker(units[Math.floor(Math.random()*units.length)])} randomText={\"🎲  ⬅ Attacker\"}/>  </div>: null}</div>\n                <div>{!defender? <div className={\"defender row\"}><RandomButton display={units} position={setDefender} randomize={() => setDefender(units[Math.floor(Math.random()*units.length)])} randomText={\"Defender ➡ 🎲 \"} /> </div>: null}</div>        \n              </div>\n    }\n  }\n  \n\n  // const resetDefender = () => {\n  //   if(defender?.name) {\n  //    setDefender(units.find(unit => unit.name === defender.name))\n  //    }\n  // }\n\n  const updateHealth = () => {\n    if(!attacker || !defender) return;\n    let newValues = d.oneShot();\n    let newDefender = defender;\n    if(newValues && attacker.weapon){\n      for(var i = 0; i < attacker.weapon.repeats; i++){\n        if(newValues.health > 0 || true){\n          let newValues = d.oneShot();\n          if(newValues){\n            newDefender = {\n              ...newDefender,\n              base: {\n                ...newDefender.base,\n                health: newValues.health,\n                shields: newValues.shields,\n              }\n            }\n            }\n          d = new Damage(JSON.parse(JSON.stringify(attacker)),\n          JSON.parse(JSON.stringify(newDefender)),\n          [ attackResearch, shieldsResearch, armorResearch]\n            )\n            } else {\n              console.log(\">>>>>failed health chi\")\n            }\n     }\n     setDefender(newDefender)\n    } else {\n      resetDefender()\n    }\n  }\n\n  const callback = () => {\n    if(attacker){\n      console.log('attakcer', attacker)\n      if(validAttackExists(attacker, defender)){\n        console.log(\"valid attack exists\")\n        if(!attacker.weapon){\n          const attacks = validAttacks(attacker, defender)\n          console.log('attacks from attacker', attacks)\n          setAttacker({\n            ...attacker,\n            weapon: attacks[0]\n          })\n          }\n          else {\n            updateHealth()\n          }\n      } else {\n        console.log(\"no attack exists\")\n      }\n    } else {\n      console.log(\"no attacker\", attacker)\n    }\n  }\n\n  return <div className={\"DPS\"}>\n            <div><span className={cns.join(\" \")} onClick={callback}>{text}</span></div>\n            {doubleReroll ? <>\n              <div className={\"button\"}><RandomButton display={units} position={setDefender} randomize={() => {setDefender(units[Math.floor(Math.random()*units.length)]); setAttacker(units[Math.floor(Math.random()*units.length)])}} randomText={\"Reroll 🎲 Units\"}/></div>\n            </> : null}\n        </div>\n}\n\nconst Vitality = ({defender, units, setDefender, shieldResearch, armorResearch}) => {\n  const base = units?.find(unit => defender?.name === unit.name)?.base\n  const health = defender?.base.health/base?.health\n\n  const healthColor = health > 6/7 ? \"green\" :\n                        health > 4/7 ? \"yellow\":\n                          health > 2/7 ? \"orange\":\n                                            \"red\";\n\n  const setAttribute = (val, attr,) => {\n    const newBase = {...defender.base}\n    newBase[attr] = parseInt(val)\n    console.log('newBase', newBase)\n    setDefender({\n      ...defender,\n      base: {...newBase}\n    })\n  }\n\n\n\n  React.useEffect(() => {\n    // console.log('defender', defender.base)\n  }, [defender])\n\n  const UpdateAttr = ({ val, updater, attr, followup}) => {\n    const [holderValue, setHolderValue] = React.useState(val)\n    const [editing, setEditing] = React.useState(false)\n    const newStyle = editing? {justifyContent: \"space-evenly\"} : null;\n\n    return <div className={\"row astlye\"} style={newStyle}>\n      {editing? <div className={\"row\"}>\n        <input type={\"text\"} value={holderValue} onChange={(e) => setHolderValue(e.target.value)} style={{width: \"50px\"}}/>\n        <div onClick={() => {setEditing(false)  ; updater(holderValue, attr) }}>✅</div>\n        <div onClick={() => {setHolderValue(val); setEditing(false)}}>❌</div>\n        </div>:\n        //textDecoration: \"underline\"\n      <div style={{border: \"3px solid\", padding:\"3px\"} }onClick={() => setEditing(true)}>{holderValue}</div>  }\n      <div>&nbsp;{followup}</div>\n    </div>\n    } \n    // armorResearch, shieldResearch \n\n  const armorResearchImg = <div className={\"research-img\"} style={{...inlineStyle(\"/armor.png\"), backgroundPosition: \"center\", textAlign:\"center\"}}>\n    {armorResearch}\n  </div>\n  return<>  {defender?\n    <>\n      <div className={\"vitality\"}>        \n        <div className={\"avatar\"}>\n          <UnitImg unit={defender} label={<div className={\"vitality-stats\"}>\n          {base.shields ? <>\n            <div className={\"shields\"}>\n              <div><UpdateAttr val={defender.base.shields} updater={setAttribute} attr={\"shields\"} followup={<> / {base.shields}🧊</>} /></div>\n            </div>\n            </>: null}\n            <div className={\"health\"}>\n              <div><span style={{color: healthColor}}>{<UpdateAttr val={defender.base.health} updater={setAttribute} attr={\"health\"} followup={<> / {base.health} ♥️</>}/>}</span></div>\n            </div>\n            <div className={\"row\"}><div>{defender.base.armor+defender.research.armor*armorResearch} 🛡</div>= <UpdateAttr val={defender.base.armor} updater={setAttribute} attr={\"armor\"}/> + <>{armorResearchImg}</></div>\n            <div style={{ textAlign:\"right\"}}>\n          { (defender.base !== base ) ? \n              <span onClick={() => setDefender(units?.find(unit => defender?.name === unit.name))}>Reset</span> : null}\n              </div>\n        </div>}/>\n        </div>\n      </div>\n    </>: null}</>\n\n}\n\nconst AllUpgrades = ({attacker, defender, attackResearch, setAttackResearch, shieldsResearch, setShieldsResearch, armorResearch, setArmorResearch})  => {\n  let d = attacker && defender ?\n              new Damage(attacker, defender, [ attackResearch, shieldsResearch, armorResearch]) :\n              null;\n  const targetable = attacker?.attacks?.filter(attack => canAttackTargetDefender(attack, defender)).length > 0\n\n  const attackerDamage = d ? (targetable && !d.damageDealt())?  \"⬅\":\n    (targetable && d.damageDealt()) ? \n    <div className={\"attacker-damage\"}><div>{d.damageDealt() }</div><div>⚔️</div></div>:\n        defender ?\n          <span className={\"fail\"}>🥊</span>:\n          <>→</>:\n                            \"\";\n  \n    return <>\n    <div className={\"unit-stats\"}>\n        <div>{attacker ? <UnitImg unit={attacker} label={(attackerDamage)} /> : null}</div>\n          <div>{attacker ? <Upgrade researchKind={\"attack\"} updateResearch={setAttackResearch} value={attackResearch} /> : null }</div>\n        <div></div>\n\n        <div></div>\n        <div>\n          {defender?.base.shields >= 0 ?  <Upgrade researchKind={\"shields\"} updateResearch={setShieldsResearch} value={shieldsResearch} /> :null }\n        </div>\n        <div>{defender?.base.shields ?  <UnitImg unit={defender} label={<div className={\"attacker-damage\"}><div>{shieldsResearch}</div><div>🧊</div></div>} />: null}</div>\n\n        <div></div>\n          <div>{defender? <Upgrade researchKind={\"armor\"} updateResearch={setArmorResearch} value={armorResearch} /> : null }</div>\n        <div>{defender ? <UnitImg unit={defender} label={<div className={\"attacker-damage\"}></div>}/>: null}</div>\n      </div> \n    </>\n    }\n\n\nexport const Middle = ({attacker, defender, research, setDefender, setAttacker, units, large}) => {\n\n  if(!research || !units){\n    return units ?  \"no rsearch\":  \"or no units\";\n  } else {\n    const [attackResearch, setAttackResearch, shieldsResearch, setShieldsResearch, armorResearch, setArmorResearch] = research\n    \n    const backup = new Damage(JSON.parse(JSON.stringify(attacker)),\n                          JSON.parse(JSON.stringify(defender)),\n                          [ attackResearch, shieldsResearch, armorResearch]\n                          )\n    const cns = [\"middle\"]\n    if(!large) {cns.push(\"middle-row\")}\n    return <div className={cns.join(\" \")}>\n              <div>\n                <DPS attacker={attacker} defender={defender}\n                    attackResearch={attackResearch} armorResearch={armorResearch} shieldsResearch={shieldsResearch}\n                    setDefender={setDefender} setAttacker={setAttacker} units={units}  />\n\n                <Vitality defender={defender} setDefender={setDefender} units={units} armorResearch={armorResearch} shieldresearch={shieldsResearch} />\n                {canAttackTargetDefender(attacker?.weapon, defender) ? <div className={\"eliminator\"}>Eliminates in {backup.eliminate()} attack{backup.eliminate() === 1 ? \"\" : \"s\"}.</div> : null}\n              </div>\n              <div>\n                {attacker || defender ? <h2>Unit Upgrades</h2> :  <h2 style={{opacity: .2}}>Unit Upgrades</h2>  }\n                <AllUpgrades attacker={attacker} defender={defender} attackResearch={attackResearch} setAttackResearch={setAttackResearch}\n                      shieldsResearch={shieldsResearch} setShieldsResearch={setShieldsResearch} armorResearch={armorResearch} setArmorResearch={setArmorResearch} />\n              </div>\n           </div>\n\n  }\n}"]},"metadata":{},"sourceType":"module"}