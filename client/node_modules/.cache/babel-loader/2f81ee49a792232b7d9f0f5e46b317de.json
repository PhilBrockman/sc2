{"ast":null,"code":"var _jsxFileName = \"/Users/philbrockman/coding/sc2/client/src/App.js\",\n    _s = $RefreshSig$();\n\nimport React from 'react';\nimport './App.css';\nimport { Attacker } from \"./components/Attacker/Attacker\";\nimport { canAttackTargetDefender } from \"./components/Attacker/Damage\";\nimport { Defender } from \"./components/Defender\";\nimport { Middle } from \"./components/Middle\";\nimport { useUnits } from \"./components/UnitSelector/Unit\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nfunction App() {\n  _s();\n\n  const [shieldsResearch, setShieldsResearch1] = React.useState(0);\n  const [armorResearch, setArmorResearch1] = React.useState(0);\n  const [attackResearch, setAttackResearch1] = React.useState(0);\n\n  const setShieldsResearch = val => {\n    if (val >= 0 && val <= 10) {\n      setShieldsResearch1(val);\n    }\n  };\n\n  const setArmorResearch = val => {\n    if (val >= 0 && val <= 10) {\n      setArmorResearch1(val);\n    }\n  };\n\n  const setAttackResearch = val => {\n    if (val >= 0 && val <= 10) {\n      setAttackResearch1(val);\n    }\n  };\n\n  const [attackIndex, setAttackIndex] = React.useState(null);\n  const [autoSelected, setAutoSelected] = React.useState(false);\n  const [locked, loadingUnits] = useUnits();\n  const [units, setUnits] = React.useState(null);\n  const [attacker, setAttacker] = React.useState(null);\n  const [defender, setDefender] = React.useState(null);\n  const [width, setWindowWidth] = React.useState(0);\n  React.useEffect(() => {\n    updateDimensions();\n    window.addEventListener(\"resize\", updateDimensions);\n    return () => window.removeEventListener(\"resize\", updateDimensions);\n  }, []);\n\n  const updateDimensions = () => {\n    const width = window.innerWidth;\n    setWindowWidth(width);\n  };\n\n  React.useEffect(() => {\n    if (locked) {\n      setUnits(loadingUnits);\n    }\n  }, [locked, loadingUnits]);\n  React.useEffect(() => {\n    setAttackIndex(null);\n    setAutoSelected(false);\n  }, [attacker, setAttackIndex]);\n  React.useEffect(() => {\n    const selectAttack = att => {\n      if (units) {\n        if (attackIndex) {// setAtta(null);\n        } else {\n          var _attacker$attacks;\n\n          // if(canAttackTargetDefender(attacker?.attacks[attackIndex], defender)) {return; }\n          const validAttack = attacker === null || attacker === void 0 ? void 0 : (_attacker$attacks = attacker.attacks) === null || _attacker$attacks === void 0 ? void 0 : _attacker$attacks.filter(attack => canAttackTargetDefender(attack, defender));\n\n          if (!validAttack || validAttack.length === 0 || validAttack.length > 1) {// setAttackIndex(null)\n          } else {\n            setAttackIndex(attacker.attacks.indexOf(validAttack[0]));\n            setAutoSelected(true);\n          }\n        }\n      }\n    };\n\n    selectAttack(attacker);\n  }, [attacker, defender, attackIndex, units]);\n  const large = width > 950;\n\n  const ainfo = /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"attacker\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        style: {\n          fontSize: \"1.7em\",\n          textAlign: \"center\"\n        },\n        children: \"Attacker\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 19\n      }, this), /*#__PURE__*/_jsxDEV(Attacker, {\n        unit: attacker,\n        defender: defender,\n        attackIndex: attackIndex,\n        setAttackIndex: setAttackIndex,\n        setUnit: setAttacker,\n        units: units\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 19\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 19\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 88,\n    columnNumber: 17\n  }, this);\n\n  const middle = /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container\",\n    children: /*#__PURE__*/_jsxDEV(Middle, {\n      attacker: attacker,\n      defender: defender,\n      aidx: attackIndex,\n      research: [attackResearch, setAttackResearch, shieldsResearch, setShieldsResearch, armorResearch, setArmorResearch],\n      setDefender: setDefender,\n      setAttacker: setAttacker,\n      units: units,\n      large: large\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 19\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 102,\n    columnNumber: 18\n  }, this);\n\n  const dinfo = /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"defender\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        style: {\n          fontSize: \"1.7em\",\n          textAlign: \"center\"\n        },\n        children: \"Defender\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(Defender, {\n        unit: defender,\n        setUnit: setDefender,\n        units: units\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 19\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 114,\n    columnNumber: 17\n  }, this); // \n\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"App\",\n    children: large ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"arena\",\n      children: [ainfo, \" \", middle, \" \", dinfo, \" \"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 20\n    }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [middle, \" \", /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"arena\",\n        children: [ainfo, \" \", dinfo, \" \"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 89\n      }, this)]\n    }, void 0, true)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 125,\n    columnNumber: 7\n  }, this);\n}\n\n_s(App, \"RbdSVEJyOXp46M5UM+39oBVZUOo=\", false, function () {\n  return [useUnits];\n});\n\n_c = App;\nexport default App;\n\nvar _c;\n\n$RefreshReg$(_c, \"App\");","map":{"version":3,"sources":["/Users/philbrockman/coding/sc2/client/src/App.js"],"names":["React","Attacker","canAttackTargetDefender","Defender","Middle","useUnits","App","shieldsResearch","setShieldsResearch1","useState","armorResearch","setArmorResearch1","attackResearch","setAttackResearch1","setShieldsResearch","val","setArmorResearch","setAttackResearch","attackIndex","setAttackIndex","autoSelected","setAutoSelected","locked","loadingUnits","units","setUnits","attacker","setAttacker","defender","setDefender","width","setWindowWidth","useEffect","updateDimensions","window","addEventListener","removeEventListener","innerWidth","selectAttack","att","validAttack","attacks","filter","attack","length","indexOf","large","ainfo","fontSize","textAlign","middle","dinfo"],"mappings":"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","sourcesContent":["import React from 'react';\nimport './App.css';\nimport {Attacker} from \"./components/Attacker/Attacker\"\nimport {canAttackTargetDefender} from \"./components/Attacker/Damage\"\nimport {Defender} from \"./components/Defender\"\nimport {Middle} from   \"./components/Middle\"\nimport {useUnits} from \"./components/UnitSelector/Unit\"\n\nfunction App() {\n  const [shieldsResearch, setShieldsResearch1] = React.useState(0)\n  const [armorResearch, setArmorResearch1] = React.useState(0)\n  const [attackResearch, setAttackResearch1] = React.useState(0);\n\n  const setShieldsResearch = (val) =>{\n    if(val >= 0 && val <= 10){\n      setShieldsResearch1(val)\n    }\n  }\n\n  const setArmorResearch = (val) =>{\n    if(val >= 0 && val <= 10){\n      setArmorResearch1(val)\n    }\n  }\n\n  const setAttackResearch = (val) =>{\n    if(val >= 0 && val <= 10){\n      setAttackResearch1(val)\n    }\n  }\n\n  const [attackIndex, setAttackIndex] = React.useState(null)\n  const [autoSelected, setAutoSelected] = React.useState(false)\n\n  const [locked, loadingUnits] = useUnits()\n  const [units, setUnits] = React.useState(null)\n\n  const [attacker, setAttacker] = React.useState(null)\n  const [defender, setDefender] = React.useState(null)\n\n  const [width, setWindowWidth] = React.useState(0)\n   React.useEffect(() => { \n\n     updateDimensions();\n\n     window.addEventListener(\"resize\", updateDimensions);\n     return () => \n       window.removeEventListener(\"resize\",updateDimensions);\n    }, [])\n    const updateDimensions = () => {\n      const width = window.innerWidth\n      setWindowWidth(width)\n    }\n\n  React.useEffect(() => {\n    if(locked){\n      setUnits(loadingUnits)\n    }\n  }, [locked, loadingUnits])\n\n  React.useEffect(() => {\n    setAttackIndex(null)\n    setAutoSelected(false)\n  }, [attacker, setAttackIndex])\n\n  React.useEffect(() => {\n    const selectAttack = (att) => {\n      if(units){\n        if(attackIndex) {\n          // setAtta(null);\n        } else {\n          // if(canAttackTargetDefender(attacker?.attacks[attackIndex], defender)) {return; }\n          const validAttack = attacker?.attacks?.filter(attack => canAttackTargetDefender(attack, defender))\n          if(!validAttack || validAttack.length === 0 || validAttack.length > 1){\n            // setAttackIndex(null)\n            } else {\n              setAttackIndex(attacker.attacks.indexOf(validAttack[0]))\n              setAutoSelected(true)\n            }\n            }\n        }\n    }\n    selectAttack(attacker)\n  }, [attacker, defender, attackIndex, units])\n\n  const large = width > 950;\n\n  const ainfo = <div className={\"container\"}>\n                  <div className={\"attacker\"}>\n                  <h1 style={{fontSize: \"1.7em\", textAlign:\"center\"}}>Attacker</h1>\n                  <Attacker\n                    unit={attacker}\n                    defender={defender}\n                    attackIndex={attackIndex}\n                    setAttackIndex={setAttackIndex}\n                    setUnit={setAttacker}\n                    units={units}\n                    />\n                    </div>\n                </div>;\n\n  const middle = <div className={\"container\"}>\n                  <Middle\n                    attacker={attacker}\n                    defender={defender}\n                    aidx={attackIndex}\n                    research={[attackResearch, setAttackResearch, shieldsResearch, setShieldsResearch, armorResearch, setArmorResearch]}\n                    setDefender={setDefender}\n                    setAttacker={setAttacker}\n                    units={units}\n                    large ={large}\n                  /></div>;\n\n  const dinfo = <div className={\"container\"}>\n                  <div className={\"defender\"}>\n                    <h1 style={{fontSize: \"1.7em\", textAlign:\"center\"}}>Defender</h1>\n                    <Defender unit={defender} \n                              setUnit={setDefender} \n                              units={units}/>\n                  </div> \n                </div>;\n\n          // \n    return (\n      <div className=\"App\">\n        \n          {large ? <div className={\"arena\"}>{ainfo} {middle} {dinfo} </div>: <>{middle} <div className={\"arena\"}>{ainfo} {dinfo} </div></>}\n          \n        \n      </div>\n    );\n}\n\n\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}