(this.webpackJsonpsc2=this.webpackJsonpsc2||[]).push([[0],{44:function(e,t,n){},45:function(e,t,n){},47:function(e,t,n){},49:function(e,t,n){},50:function(e,t,n){},51:function(e,t,n){},52:function(e,t,n){},71:function(e,t,n){},77:function(e,t,n){"use strict";n.r(t);var a=n(1),c=n.n(a),s=n(37),r=n.n(s),i=(n(44),n(2)),l=n(3),o=(n(45),n(13)),d=n(19),u=n(22),j=n(21),h=n(15),b=n(14),O=n.n(b),x=n(20),f=(n(47),n(0)),v=function(e){var t=c.a.useState(null),n=Object(l.a)(t,2),a=n[0],s=n[1],r=c.a.useState(!1),i=Object(l.a)(r,2),o=i[0],d=i[1],u="https://sc2-meleee.herokuapp.com/";return console.log("apiURL",u),c.a.useEffect((function(){d(!0),function(){var e=Object(x.a)(O.a.mark((function e(){var t;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!o){e.next=2;break}return e.abrupt("return",[]);case 2:t=u+"api/units",console.log("URL",t),fetch(t).then((function(e){return e.json()})).then((function(e){s(e.units)})).catch((function(e){console.error("error fetching",e)}));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}),[o,u]),[o,a]},m=function(e){var t=e.unit,n=t?Object(f.jsxs)("div",{className:"unit-card",children:[Object(f.jsx)("div",{className:"unit-name",children:t.name}),Object(f.jsxs)("div",{style:{display:"flex"},children:[Object(f.jsx)("div",{style:{minWidth:"200px",minHeight:"200px"},children:Object(f.jsx)(g,{unit:t})}),Object(f.jsx)("div",{className:"attributes",children:e.children})]})]}):null;return Object(f.jsx)(f.Fragment,{children:n})},p=function(e){return{backgroundSize:"contain",backgroundRepeat:"no-repeat",backgroundPosition:"right",backgroundImage:"url(".concat(e,")"),minWidth:"50px"}},g=function(e){var t=e.unit,n=e.label;return Object(f.jsx)("div",{style:p(t.img),className:"unit-img",children:Object(f.jsx)("div",{className:"unit-img-label",children:Object(f.jsx)("h1",{children:n})})})},k=(n(49),{terran:{icon:"/marine.png",production:{commandCenter:"/commandcenter.png",barracks:"/barracks.png",factory:"/factory.png",starport:"/starport.png"}},zerg:{icon:"/zergling.png",production:{hatchery:"/hatchery.png",lair:"/lair.png"}},protoss:{icon:"/zealot.png",production:{nexus:"/nexus.png",gateway:"/gateway.png",roboticsFacility:"/robo.png",stargate:"/stargate.png"}}}),y=function(e){var t=e.replace(/([A-Z])/g," $1");return t.charAt(0).toUpperCase()+t.slice(1)},N=function(e){var t,n=e.display,a=e.randomize,c=e.randomText;return t=n?Object(f.jsx)("span",{onClick:function(){return a()},children:c||Object(f.jsx)(f.Fragment,{children:"\ud83c\udfb2"})}):Object(f.jsx)("button",{children:"Loading..."}),Object(f.jsx)("div",{className:"random-button",children:t})},w=function(e){e.unit;var t=e.setUnit;return Object(f.jsx)("div",{className:"reset-button",onClick:function(){return t(null)},children:"\u21bb"})},S=function(e){var t=e.unit,n=e.setUnit,a=e.randomizeUnit,c=e.display;return Object(f.jsxs)("div",{className:"button-group",children:[Object(f.jsx)(N,{display:c,randomize:a}),t?Object(f.jsx)(w,{setUnit:n}):null]})},F=function(e,t,n){var a=["unit-selection"];return e.map((function(e,c){var s=a;return s=(null===t||void 0===t?void 0:t.name)===e.name?[].concat(a,["active-unit"]):a,Object(f.jsx)("div",{onClick:function(){return n(e)},className:s.join(" "),style:p(e.img),children:Object(f.jsx)("header",{children:Object(f.jsx)("h1",{children:e.name})})},c)}))},C=function(e){var t=e.structure,n=e.path,a=e.units,s=e.unit,r=e.setUnit,i=c.a.useState(!0),o=Object(l.a)(i,2),d=o[0],u=o[1],j=a?a.filter((function(e){return e.structure===t})):null,h=d?Object(f.jsx)(f.Fragment,{}):Object(f.jsx)("div",{className:"units-selector",children:F(j,s,r)});return a?Object(f.jsxs)("div",{children:[Object(f.jsx)("div",{className:"production-facility",style:p(n),onClick:function(){return u(!d)},children:Object(f.jsx)("header",{children:Object(f.jsx)("h1",{children:y(t)})})}),Object(f.jsx)("div",{children:h})]}):null},D=function(e){var t=e.data,n=e.units,a=e.unit,s=e.setUnit,r=c.a.useState(!0),o=Object(l.a)(r,2),d=o[0],u=o[1];return Object(f.jsxs)("div",{children:[Object(f.jsxs)("div",{onClick:function(){return u(!d)},children:[Object(f.jsx)("div",{}),Object(f.jsx)("div",{style:Object(i.a)(Object(i.a)({},p(t.icon)),{},{height:"150px",backgroundPosition:"left"})})]}),d?null:Object(f.jsx)("div",{children:Object.entries(t.production).map((function(e){var t=Object(l.a)(e,2),c=t[0],r=t[1];return Object(f.jsx)(C,{structure:c,path:r,units:n,unit:a,setUnit:s},c)}))})]})},A=function(e){return e.showFactions?"hide \u27f0 units":"show \u27f1 units"},R=function(e){var t=e.searchText,n=e.setSearchText;return Object(f.jsx)("input",{className:"unit-search",type:"search",placeholder:"... unit name",onChange:function(e){return n(e.target.value)},value:t},"inputter")},U=function(e){var t=e.units,n=e.currentUnit,a=e.setUnit,c=e.setSearchText,s=e.searchText,r=e.tags,l=e.setTags,o=e.showTags,d=function(e){var t=e.tag,n=e.highlight,a=["tagged-attribute"];return a.push(n&&r.includes(t)?"used-tag":""),Object(f.jsx)("div",{className:a.join(" "),onClick:function(){return u(t)},children:t},t)},u=function(e){r.includes(e)?l(r.filter((function(t){return t!==e}))):l([].concat(Object(h.a)(r),[e]))};return Object(f.jsxs)("div",{children:[Object(f.jsxs)("div",{className:"input-area",children:[Object(f.jsx)(R,{setSearchText:c,searchText:s}),Object(f.jsx)(S,{display:t,unit:n,setUnit:a,randomizeUnit:function(){var e;a((e=t)[Math.floor(Math.random()*e.length)])}})]}),Object(f.jsxs)("div",{className:"row search-by-tag",children:[r.map((function(e){return Object(f.jsx)(d,{tag:e,toggle:u},e)})),r.length>0?Object(f.jsx)("h1",{className:"clear-tags",onClick:function(){return l([])},children:"\ud83d\udeab"}):null]}),Object(f.jsx)("div",{children:Object(f.jsx)(m,{unit:n,setUnit:a,children:Object(f.jsxs)("div",{className:"attributes",children:[o&&(null===n||void 0===n?void 0:n.types.map((function(e,t){return Object(f.jsx)(d,{tag:e,toggle:u,highlight:!0},e)}))),o&&n?n.types.includes("Air")?n.types.includes("Ground")?null:Object(f.jsx)("button",{onClick:function(){return a(Object(i.a)(Object(i.a)({},n),{},{types:[].concat(Object(h.a)(n.types),["Ground"])}))},children:"Bind to the Ground"}):Object(f.jsx)("button",{onClick:function(){return a(Object(i.a)(Object(i.a)({},n),{},{types:[].concat(Object(h.a)(n.types),["Air"])}))},children:"Take to the Air"}):null]})})})]})},I=function(e){var t,n=[e.setUnit,e.currentUnit,e.units,e.showTags],a=n[0],s=n[1],r=n[2],i=n[3],o=c.a.useState([]),d=Object(l.a)(o,2),u=d[0],j=d[1],h=c.a.useState(!1),b=Object(l.a)(h,2),O=b[0],x=b[1],v=c.a.useState(""),m=Object(l.a)(v,2),p=m[0],g=m[1];if(r){var y=Object(f.jsx)("div",{className:"button column",onClick:function(){j([]),g("")},children:Object(f.jsx)("div",{children:" Clear filters"})});if(p.length>0||u.length>0){var N=r.filter((function(e){var t=!1;return u.forEach((function(n){e.types.includes(n)||(t=!0)})),!t})).filter((function(e){return e.name.toLowerCase().includes(p.toLowerCase())}));t=Object(f.jsxs)(f.Fragment,{children:[F(N,s,a).length>0?Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("h1",{style:{fontSize:"2em"},children:"Filtered Results:"}),F(N,s,a)," "]}):Object(f.jsx)(f.Fragment,{}),y]})}else t=Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("div",{onClick:function(){return x(!O)},className:"selector",style:{textAlign:"center",fontSize:"1.5em"},children:Object(f.jsx)(A,{showFactions:O})}),O?Object.entries(k).map((function(e){var t=Object(l.a)(e,2),n=t[0],c=t[1];return Object(f.jsx)("div",{className:"faction",children:Object(f.jsx)(D,{data:c,label:n,units:r,unit:s,setUnit:a})},n)})):null]});return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(U,{showTags:i,units:r,currentUnit:s,setUnit:a,setSearchText:g,searchText:p,tags:u,setTags:j}),e.children,t]})}return"Loading"};function J(e,t){var n=new Set(e),a=new Set(t),c=new Set(Object(h.a)(n).filter((function(e){return a.has(e)})));return Array.from(c)}var T=function(e,t){return!(!e||!t)&&J(J(e.targets,t.types),["Ground","Air"]).length>0},B=function e(t,n,a){var c=this,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;if(Object(o.a)(this,e),this.totalDamage=function(){var e=c.def,t=c.att;return e.base.shields>0&&c.damageInflicted(t,e)>e.base.shields+c.armorDefense(e)?c.damageInflicted(t,e)-c.armorDefense(e):c.damageInflicted(t,e)},this.eliminate=function(){var t=c.oneShot();if(!t)return 0;for(var n=1;(null===(a=t)||void 0===a?void 0:a.health)>0;){var a;if(n++,t){var s=Object(i.a)(Object(i.a)({},c.def),{},{base:Object(i.a)(Object(i.a)({},c.def.base),{},{health:t.health,shields:t.shields})});t=new e(c.att,JSON.parse(JSON.stringify(s)),[c.research.attack,c.research.shields,c.research.armor]).oneShot()}}return n},this.oneShot=function(){var t,n,a=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];a?(t=JSON.parse(JSON.stringify(c.att)),n=JSON.parse(JSON.stringify(c.def))):(t=c.att,n=c.def);var s,r=null;if(void 0===t.weapon||!n)return"\ud83d\udc40 no attacker or attack not found";if(!T(t.weapon,n))return"can't shoot";if(n.base.health>0)for(var i=0,l=0;l<t.weapon.repeats;l++){var o;console.log("repaeting attack",t.weapon);var d=new e(t,JSON.parse(JSON.stringify(n)),[c.research.attack,c.research.shields,c.research.armor]),u=d.totalDamage();if((null===(o=n.base)||void 0===o?void 0:o.shields)>0?u<=n.base.shields?(n.base.shields-=u,s="".concat(u," to shields. (").concat(n.base.shields," remaining)")):(n.base.health-=u-n.base.shields,n.base.shields=0,s="".concat(u," has overloaded shields. (").concat(n.base.health," health remaining)")):(n.base.health-=u,s="".concat(u," damage. (").concat(n.base.health," HP)")),i+=u,n.base.health<0){var j=(100*-n.base.health/i).toFixed(1);s+=" (".concat(j,"% attack wasted)")}r={health:n.base.health,shields:n.base.shields,totalDamage:i,log:s}}return console.log("results",r),r},!t||!n)return null;var r=Object(l.a)(a,3),d=r[0],u=r[1],j=r[2];this.research={attack:d,armor:j,shields:u},this.att=JSON.parse(JSON.stringify(t)),this.def=JSON.parse(JSON.stringify(n));var h=1,b=1,O=1,x=900,f=1;this.bonusDamage=function(){return c.att.weapon.bonuses.filter((function(e){return c.def.types.includes(e.to)})).reduce((function(e,t){return e+t.baseDamage+t.researchBonus*c.research.attack}),0)},this.damageDealt=function(){var e,t=null===(e=c.att)||void 0===e?void 0:e.weapon;return c.att&&c.def&&t?t.baseDamage+c.research.attack*t.researchBonus+c.bonusDamage():""},this.armorDefense=function(){return c.def.base.armor+c.research.armor},this.defenseAvailable=function(){var e;return(null===(e=c.def.base)||void 0===e?void 0:e.shields)>0?c.research.shields:c.armorDefense(c.def)},this.defenseApplied=function(){return c.defenseAvailable()*h*(2-b)},this.damageReceived=function(){return c.damageDealt()*O*b*f-c.defenseApplied()},this.damageCapped=function(e,t){return Math.min(c.damageReceived(e,t),x*O*b+900*(1-h))},this.damageInflicted=function(e,t){return Math.max(.5,c.damageCapped(e,t)-s)}},z=(n(50),function(e){Object(u.a)(n,e);var t=Object(j.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).state={error:null,errorInfo:null},a}return Object(d.a)(n,[{key:"componentDidCatch",value:function(e,t){this.setState({error:e,errorInfo:t})}},{key:"render",value:function(){return this.state.errorInfo?Object(f.jsxs)("div",{children:[Object(f.jsx)("h2",{children:"Something went wrong."}),Object(f.jsxs)("details",{style:{whiteSpace:"pre-wrhap"},children:[this.state.error&&this.state.error.toString(),Object(f.jsx)("br",{}),this.state.errorInfo.componentStack]})]}):this.props.children}}]),n}(c.a.Component)),E=function(e){var t=e.attack,n=e.defender,a=e.textstyle;return t.bonuses.map((function(e,t){var c,s=Object(f.jsxs)(f.Fragment,{children:["Anti-",e.to,":"]}),r=Object(f.jsxs)(f.Fragment,{children:[e.baseDamage," (+",e.researchBonus,")"]});return c=n?n.types.includes(e.to)?Object(f.jsxs)("span",{children:[r," \ud83c\udfaf"]}):Object(f.jsx)("span",{style:{textDecoration:"wavy line-through red"},children:r}):Object(f.jsx)("span",{children:r}),Object(f.jsxs)("div",{children:[s,Object(f.jsx)("span",{className:a,children:c})]},t)}))},V=function(e){var t=e.animate;return e.display?t?Object(f.jsx)("span",{className:"bullet",children:"\u27a1"}):Object(f.jsx)(f.Fragment,{children:"\u27a1"}):Object(f.jsx)(f.Fragment,{})},M=function(e){var t=e.attacker,n=e.defender,a=e.setAttackingWeapon;if(!t)return null;var c=function(e){var c,s=e.attack,r=e.available,i=e.selected,l=[];l.push((null===t||void 0===t||null===(c=t.weapon)||void 0===c?void 0:c.name)===(null===s||void 0===s?void 0:s.name)?"main-weapon":"other-choice"),l.push(r?"attack-available":"attack-unavailable");var o=["attack-name"];return o.push(r?"alt-weapon":"unavailable"),o.push(r&&(t.weapon?"":"pulse")),console.log("attacks",o),Object(f.jsx)("div",{onClick:function(){return a(s)},className:l.join(" "),children:Object(f.jsx)(f.Fragment,{children:Object(f.jsxs)("div",{className:o.join(" "),children:[Object(f.jsx)(V,{animate:o.includes("pulse"),display:!0}),s.name," ",s.repeats>1?Object(f.jsxs)(f.Fragment,{children:["(x ",s.repeats,")"]}):null,i?Object(f.jsxs)("div",{children:[Object(f.jsxs)(f.Fragment,{children:["Base Damage: ",Object(f.jsxs)("span",{className:o.includes("pulse")?"bullet":"",children:[s.baseDamage," (+",s.researchBonus,")"]})]}),Object(f.jsx)(E,{attack:s,defender:n,textstyle:"yellow"})]}):null]})})})},s=null===t||void 0===t?void 0:t.attacks.map((function(e){var a=T(e,n);return Object(f.jsx)("div",{children:Object(f.jsx)(c,{attack:e,available:a,selected:e===t.weapon})},e.name)}));return Object(f.jsxs)("div",{className:"attacks",children:[Object(f.jsx)("h1",{children:t.attacks.length>0?"Attacks":"Pacifist"}),t?s:null]})},P=function(e){var t=e.attacker,n=e.defender,a=e.setAttacker,c=e.units;return Object(f.jsx)(z,{children:Object(f.jsx)(I,{setUnit:a,currentUnit:t,units:c,children:Object(f.jsx)(M,{attacker:t,setAttackingWeapon:function(e){return e!==t.weapon?a(Object(i.a)(Object(i.a)({},t),{},{weapon:e})):a(Object(i.a)(Object(i.a)({},t),{},{weapon:null})),null},defender:n})})})},L=function(e){var t=e.unit,n=e.setUnit,a=e.units;return Object(f.jsx)(I,{setUnit:n,currentUnit:t,units:a,showTags:!0})},W=(n(51),{attack:"/attack.png",armor:"/armor.png",shields:"/shield.png"}),$=function(e){var t=e.researchKind,n=e.value,a=e.updateResearch,c=function(e){a(n+e)};if(null===n)return Object(f.jsx)(f.Fragment,{});var s=n>0?"can-change":"locked",r=n<10?"can-change":"locked";return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("div",{className:"research",children:Object(f.jsx)("div",{className:"incrementer",children:Object(f.jsxs)("div",{className:"research-img",style:Object(i.a)(Object(i.a)({},p(W[t])),{},{backgroundPosition:"center"}),children:[Object(f.jsx)("div",{"aria-label":"Increment value",onClick:function(){return c(1)},className:r,children:"   \u2a01 "}),Object(f.jsx)("h1",{children:n}),Object(f.jsx)("div",{"aria-label":"Decrement value",onClick:function(){return c(-1)},className:s,children:" \u2296  "})]})})})," "]})},H=(n(52),function(e,t){Array.from(document.getElementsByClassName(e)).forEach((function(e){t?e.classList.add("pulse"):e.classList.remove("pulse")}))}),_=function(e,t){return null===e||void 0===e?void 0:e.attacks.filter((function(e){return T(e,t)}))},q=function(e,t){return _(e,t).filter((function(e){return e})).length>0},G=function(e){var t,n,a,c=e.attacker,s=e.defender,r=e.attackResearch,l=e.shieldsResearch,o=e.armorResearch,d=e.setDefender,u=e.setAttacker,j=e.units,h=new B(c,s,[r,l,o]),b=["button"];(null===c||void 0===c?void 0:c.weapon)&&s?(b.push("active"),H("alt-weapon",!1),T(c.weapon,s)?(null===(a=h)||void 0===a?void 0:a.oneShot())?(console.log("oneshot",h.oneShot()),n=Object(f.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[Object(f.jsx)("div",{style:{fontSize:"1.5em"},children:"Damage:"})," ",Object(f.jsxs)("div",{children:["\u2694\ufe0f ",h.oneShot().totalDamage," \ud83d\udee1"]})]})):n=Object(f.jsx)(f.Fragment,{children:"Victory (reset)"}):(n=Object(f.jsxs)(f.Fragment,{children:[c.weapon.name," cannot target ",s.name]}),b.push("inactive"))):c&&s?(b.push("inactive"),q(c,s)?(console.log("attacker: )",_(c,s)),n=Object(f.jsx)("span",{children:"\u2b05 Select a valid attack"}),b.push("pulse"),H("alt-weapon",!0)):(b.push("invalid"),n=Object(f.jsxs)(f.Fragment,{children:[c.name," can't attack ",s.name]}),t=!0)):(b.push("waiting"),c||s||b.push("pulse"),n=Object(f.jsxs)("div",{children:[Object(f.jsx)("div",{children:"Select: "}),Object(f.jsx)("div",{children:c?null:Object(f.jsxs)("div",{className:"attacker row",children:[Object(f.jsx)(N,{display:j,randomize:function(){return u(j[Math.floor(Math.random()*j.length)])},randomText:"\ud83c\udfb2  \u2b05 Attacker"}),"  "]})}),Object(f.jsx)("div",{children:s?null:Object(f.jsxs)("div",{className:"defender row",children:[Object(f.jsx)(N,{display:j,position:d,randomize:function(){return d(j[Math.floor(Math.random()*j.length)])},randomText:"Defender \u27a1 \ud83c\udfb2 "})," "]})})]}));var O=function(){if(c&&s){var e=h.oneShot(),t=s;if(e&&c.weapon){for(var n=0;n<1;n++){var a=h.oneShot();a&&(t=Object(i.a)(Object(i.a)({},t),{},{base:Object(i.a)(Object(i.a)({},t.base),{},{health:a.health,shields:a.shields})})),h=new B(JSON.parse(JSON.stringify(c)),JSON.parse(JSON.stringify(t)),[r,l,o])}d(t)}else(null===s||void 0===s?void 0:s.name)&&d(j.find((function(e){return e.name===s.name})))}};return Object(f.jsxs)("div",{className:"DPS",children:[Object(f.jsx)("div",{children:Object(f.jsx)("span",{className:b.join(" "),onClick:function(){if(c)if(console.log("attakcer",c),q(c,s))if(console.log("valid attack exists"),c.weapon)T(c.weapon,s)&&O();else{var e=_(c,s);console.log("attacks from attacker",e),u(Object(i.a)(Object(i.a)({},c),{},{weapon:e[0]}))}else console.log("no attack exists");else console.log("no attacker",c)},children:n})}),t?Object(f.jsx)(f.Fragment,{children:Object(f.jsx)("div",{className:"button",children:Object(f.jsx)(N,{display:j,position:d,randomize:function(){d(j[Math.floor(Math.random()*j.length)]),u(j[Math.floor(Math.random()*j.length)])},randomText:"Reroll \ud83c\udfb2 Units"})})}):null]})},K=function(e){var t,n,a=e.defender,s=e.units,r=e.setDefender,o=(e.shieldResearch,e.armorResearch),d=null===s||void 0===s||null===(t=s.find((function(e){return(null===a||void 0===a?void 0:a.name)===e.name})))||void 0===t?void 0:t.base,u=null===s||void 0===s||null===(n=s.find((function(e){return(null===a||void 0===a?void 0:a.name)===e.name})))||void 0===n?void 0:n.types,j=(null===a||void 0===a?void 0:a.base.health)/(null===d||void 0===d?void 0:d.health),h=j>6/7?"green":j>4/7?"yellow":j>2/7?"orange":"red",b=function(e,t){var n=Object(i.a)({},a.base);n[t]=parseInt(e),console.log("newBase",n),r(Object(i.a)(Object(i.a)({},a),{},{base:Object(i.a)({},n)}))};c.a.useEffect((function(){}),[a]);var O=function(e){var t=e.val,n=e.updater,a=e.attr,s=e.followup,r=c.a.useState(t),i=Object(l.a)(r,2),o=i[0],d=i[1],u=c.a.useState(!1),j=Object(l.a)(u,2),h=j[0],b=j[1],O=h?{justifyContent:"space-evenly"}:null;return Object(f.jsxs)("div",{className:"row astlye",style:O,children:[h?Object(f.jsxs)("div",{className:"row",children:[Object(f.jsx)("input",{type:"text",value:o,onChange:function(e){return d(e.target.value)},style:{width:"50px"}}),Object(f.jsx)("div",{onClick:function(){b(!1),n(o,a)},children:"\u2705"}),Object(f.jsx)("div",{onClick:function(){d(t),b(!1)},children:"\u274c"})]}):Object(f.jsx)("div",{style:{border:"3px solid",padding:"3px"},onClick:function(){return b(!0)},children:o}),Object(f.jsxs)("div",{children:["\xa0",s]})]})},x=Object(f.jsx)("div",{className:"research-img",style:Object(i.a)(Object(i.a)({},p("/armor.png")),{},{backgroundPosition:"center",textAlign:"center"}),children:o});return Object(f.jsxs)(f.Fragment,{children:["  ",a?Object(f.jsx)(f.Fragment,{children:Object(f.jsx)("div",{className:"vitality",children:Object(f.jsx)("div",{className:"avatar",children:Object(f.jsx)(g,{unit:a,label:Object(f.jsxs)("div",{className:"vitality-stats",children:[d.shields?Object(f.jsx)(f.Fragment,{children:Object(f.jsx)("div",{className:"shields",children:Object(f.jsx)("div",{children:Object(f.jsx)(O,{val:a.base.shields,updater:b,attr:"shields",followup:Object(f.jsxs)(f.Fragment,{children:[" / ",d.shields,"\ud83e\uddca"]})})})})}):null,Object(f.jsx)("div",{className:"health",children:Object(f.jsx)("div",{children:Object(f.jsx)("span",{style:{color:h},children:Object(f.jsx)(O,{val:a.base.health,updater:b,attr:"health",followup:Object(f.jsxs)(f.Fragment,{children:[" / ",d.health," \u2665\ufe0f"]})})})})}),Object(f.jsxs)("div",{className:"row",children:[Object(f.jsxs)("div",{children:[a.base.armor+a.research.armor*o," \ud83d\udee1"]}),"= ",Object(f.jsx)(O,{val:a.base.armor,updater:b,attr:"armor"})," + ",Object(f.jsx)(f.Fragment,{children:x})]}),Object(f.jsx)("div",{style:{textAlign:"right"},children:a.base!==d||a.types!==u?Object(f.jsx)("span",{onClick:function(){return r(null===s||void 0===s?void 0:s.find((function(e){return(null===a||void 0===a?void 0:a.name)===e.name})))},children:"Reset"}):null})]})})})})}):null]})},Z=function(e){var t,n=e.attacker,a=e.defender,c=e.attackResearch,s=e.setAttackResearch,r=e.shieldsResearch,i=e.setShieldsResearch,l=e.armorResearch,o=e.setArmorResearch,d=n&&a?new B(n,a,[c,r,l]):null,u=(null===n||void 0===n||null===(t=n.attacks)||void 0===t?void 0:t.filter((function(e){return T(e,a)})).length)>0,j=d?u&&!d.damageDealt()?"\u2b05":u&&d.damageDealt()?Object(f.jsxs)("div",{className:"attacker-damage",children:[Object(f.jsx)("div",{children:d.damageDealt()}),Object(f.jsx)("div",{children:"\u2694\ufe0f"})]}):a?Object(f.jsx)("span",{className:"fail",children:"\ud83e\udd4a"}):Object(f.jsx)(f.Fragment,{children:"\u2192"}):"";return Object(f.jsx)(f.Fragment,{children:Object(f.jsxs)("div",{className:"unit-stats",children:[Object(f.jsx)("div",{children:n?Object(f.jsx)(g,{unit:n,label:j}):null}),Object(f.jsx)("div",{children:n?Object(f.jsx)($,{researchKind:"attack",updateResearch:s,value:c}):null}),Object(f.jsx)("div",{}),Object(f.jsx)("div",{}),Object(f.jsx)("div",{children:(null===a||void 0===a?void 0:a.base.shields)>=0?Object(f.jsx)($,{researchKind:"shields",updateResearch:i,value:r}):null}),Object(f.jsx)("div",{children:(null===a||void 0===a?void 0:a.base.shields)?Object(f.jsx)(g,{unit:a,label:Object(f.jsxs)("div",{className:"attacker-damage",children:[Object(f.jsx)("div",{children:r}),Object(f.jsx)("div",{children:"\ud83e\uddca"})]})}):null}),Object(f.jsx)("div",{}),Object(f.jsx)("div",{children:a?Object(f.jsx)($,{researchKind:"armor",updateResearch:o,value:l}):null}),Object(f.jsx)("div",{children:a?Object(f.jsx)(g,{unit:a,label:Object(f.jsx)("div",{className:"attacker-damage"})}):null})]})})},Q=function(e){var t=e.attacker,n=e.defender,a=e.research,c=e.setDefender,s=e.setAttacker,r=e.units,i=e.large;if(a&&r){var o=Object(l.a)(a,6),d=o[0],u=o[1],j=o[2],h=o[3],b=o[4],O=o[5],x=new B(JSON.parse(JSON.stringify(t)),JSON.parse(JSON.stringify(n)),[d,j,b]),v=["middle"];return i||v.push("middle-row"),Object(f.jsxs)("div",{className:v.join(" "),children:[Object(f.jsxs)("div",{children:[Object(f.jsx)(G,{attacker:t,defender:n,attackResearch:d,armorResearch:b,shieldsResearch:j,setDefender:c,setAttacker:s,units:r}),Object(f.jsx)(K,{defender:n,setDefender:c,units:r,armorResearch:b,shieldresearch:j}),T(null===t||void 0===t?void 0:t.weapon,n)?Object(f.jsxs)("div",{className:"eliminator",children:["Eliminates in ",x.eliminate()," attack",1===x.eliminate()?"":"s","."]}):null]}),Object(f.jsxs)("div",{children:[t||n?Object(f.jsx)("h2",{children:"Unit Upgrades"}):Object(f.jsx)("h2",{style:{opacity:.2},children:"Unit Upgrades"}),Object(f.jsx)(Z,{attacker:t,defender:n,attackResearch:d,setAttackResearch:u,shieldsResearch:j,setShieldsResearch:h,armorResearch:b,setArmorResearch:O})]})]})}return r?"no research (error)":"Note: Heroku Dynos are spinning up... Sorry for the inconevience. Please wait!"};var X=function(){var e=c.a.useState(0),t=Object(l.a)(e,2),n=t[0],a=t[1],s=c.a.useState(0),r=Object(l.a)(s,2),o=r[0],d=r[1],u=c.a.useState(0),j=Object(l.a)(u,2),h=j[0],b=j[1],O=c.a.useState(!1),x=Object(l.a)(O,2),m=x[0],p=x[1],g=v(),k=Object(l.a)(g,2),y=k[0],N=k[1],w=c.a.useState(null),S=Object(l.a)(w,2),F=S[0],C=S[1],D=c.a.useState(null),A=Object(l.a)(D,2),R=A[0],U=A[1],I=c.a.useState(null),J=Object(l.a)(I,2),T=J[0],B=J[1],z=c.a.useState(0),E=Object(l.a)(z,2),V=E[0],M=E[1];c.a.useEffect((function(){var e=function(){var e=window.innerWidth;M(e)};return e(),window.addEventListener("resize",e),function(){return window.removeEventListener("resize",e)}}),[]),c.a.useEffect((function(){y&&C(N)}),[y,N]);var W=function(e){U(Object(i.a)(Object(i.a)({},R),{},{weapon:e}))};c.a.useEffect((function(){p(!1)}),[R]),c.a.useEffect((function(){F&&(R?m||(console.log("setting attack"),p(!0)):p(!1))}),[R,T,F,m]);var $=V>950,H=Object(f.jsx)("div",{className:"container",children:Object(f.jsxs)("div",{className:"attacker",children:[Object(f.jsx)("h1",{style:{fontSize:"1.7em",textAlign:"center"},children:"Attacker"}),Object(f.jsx)(P,{attacker:R,defender:T,setAttacker:U,units:F,equipWeapon:W})]})}),_=Object(f.jsx)("div",{className:"container",children:Object(f.jsx)(Q,{attacker:R,defender:T,research:[h,function(e){e>=0&&e<=10&&b(e)},n,function(e){e>=0&&e<=10&&a(e)},o,function(e){e>=0&&e<=10&&d(e)}],setDefender:B,setAttacker:U,equipWeapon:W,units:F,large:$})}),q=Object(f.jsx)("div",{className:"container",children:Object(f.jsxs)("div",{className:"defender",children:[Object(f.jsx)("h1",{style:{fontSize:"1.7em",textAlign:"center"},children:"Defender"}),Object(f.jsx)(L,{unit:T,setUnit:B,units:F})]})});return Object(f.jsx)("div",{className:"App",children:$?Object(f.jsxs)("div",{className:"arena",children:[H," ",_," ",q," "]}):Object(f.jsxs)(f.Fragment,{children:[_," ",Object(f.jsxs)("div",{className:"arena",children:[H," ",q," "]})]})})},Y=n(23),ee=function(){Y.a.init("xbrx87bw");var e=Y.a.build({toolId:"ldnoak"}),t=Y.a.build({toolId:"klmral"});return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(t,{}),Object(f.jsx)("h2",{children:"Dashboard"}),Object(f.jsx)(e,{})]})},te=(n(71),function(e){var t=e.updateFunction,n=e.label,a=e.attributeValue,s=e.clicks,r=c.a.useState(a),i=Object(l.a)(r,2),o=i[0],d=i[1],u=c.a.useState(!1),j=Object(l.a)(u,2),h=j[0],b=j[1];c.a.useEffect((function(){String(o)!==String(a)?b(!0):b(!1)}),[o]),c.a.useEffect((function(){s>0&&h&&o!==a&&(t(o),b(!1))}),[s]);var O={backgroundColor:h?"rgba(255,0,0, .2)":"rgba(0,255,0, .1)"};return Object(f.jsxs)("div",{className:"row attr",children:[Object(f.jsx)("div",{children:n}),Object(f.jsx)("input",{style:O,type:"text",onChange:function(e){return d(e.target.value)},value:o||""})]})}),ne=function(e,t){var n={};return n[e]=t,n},ae=function(e){var t=e.bonus,n=e.prefix,a=e.updateFunction,c=e.clicks;return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(te,{label:"To",attributeValue:null===t||void 0===t?void 0:t.to,updateFunction:function(e){return a(ne(n+"to",e))},clicks:c}),Object(f.jsx)(te,{label:"Research Bonus",attributeValue:null===t||void 0===t?void 0:t.researchBonus,updateFunction:function(e){return a(ne(n+"researchBonus",parseInt(e)))},clicks:c}),Object(f.jsx)(te,{label:"Base Damage",attributeValue:null===t||void 0===t?void 0:t.baseDamage,updateFunction:function(e){return a(ne(n+"baseDamage",parseInt(e)))},clicks:c})]})},ce=function(e){var t=e.attack,n=e.updateFunction,a=e.id,c=e.clicks;return Object(f.jsxs)("div",{className:"row",children:[Object(f.jsxs)("div",{children:[Object(f.jsx)("h3",{children:t.name}),Object(f.jsx)(te,{label:"Attack Name",attributeValue:t.name,updateFunction:function(e){return n(ne("attacks."+a+".name",e))},clicks:c}),Object(f.jsx)(se,{label:"Targets",arr:t.targets,updateFunction:n,prefix:"attacks."+a+".targets.",clicks:c}),Object(f.jsx)(te,{label:"Research Bonus",attributeValue:t.researchBonus,updateFunction:function(e){return n(ne("attacks."+a+".researchBonus",parseInt(e)))},clicks:c}),Object(f.jsx)(te,{label:"Base Damage",attributeValue:t.baseDamage,updateFunction:function(e){return n(ne("attacks."+a+".baseDamage",parseInt(e)))},clicks:c}),Object(f.jsx)(te,{label:"Repeats",attributeValue:t.repeats,updateFunction:function(e){return n(ne("attacks."+a+".repeats",parseInt(e)))},clicks:c}),Object(f.jsx)("div",{children:Object(f.jsx)("button",{onClick:function(){return n(ne("attacks."+a+".bonuses",{baseDamage:1}),"$push")},children:"Add Bonus"})})]}),t.bonuses.length>0?Object(f.jsxs)("div",{children:[Object(f.jsx)("h4",{children:"Bonuses"}),Object(f.jsxs)("div",{children:[JSON.stringify(t.bonuses),t.bonuses.map((function(e,t){var s=["attacks",a,"bonuses",t,""].join(".");return Object(f.jsxs)("div",{className:"row",children:[Object(f.jsx)("div",{children:Object(f.jsx)(ae,{bonus:e,prefix:s,updateFunction:n,clicks:c})}),Object(f.jsx)("div",{children:Object(f.jsx)("button",{onClick:function(){n(ne(["attacks",a,"bonuses",t].join("."),1),"$unset").then((function(){console.log("inner funciton"),n(ne(["attacks",a,"bonuses"].join("."),null),"$pull")}))},children:"Remove Bonus"})})]},t)}))]})," "]}):null]})},se=function(e){var t=e.label,n=e.arr,a=e.prefix,c=e.updateFunction,s=e.clicks,r=n.map((function(e,t){return Object(f.jsxs)("div",{className:"row",children:[Object(f.jsx)("div",{children:Object(f.jsx)(te,{label:null,attributeValue:e,updateFunction:function(e){return c(ne(a+t,e))},clicks:s})}),Object(f.jsx)("div",{children:Object(f.jsx)("button",{onClick:function(){return c(ne(a.slice(0,-1),e),"$pull")},children:"Remove"})})]},t)})),i=Object(f.jsx)("button",{onClick:function(){return c(ne(a.slice(0,-1),""),"$push")},children:"Add Element"});return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("div",{children:t}),Object(f.jsx)("div",{children:r}),Object(f.jsx)("div",{children:i})]})},re=function(e){var t=e.og_unit,n=c.a.useState(t),a=Object(l.a)(n,2),s=a[0],r=a[1],i=c.a.useState(0),o=Object(l.a)(i,2),d=o[0],u=o[1],j=function(){var e=Object(x.a)(O.a.mark((function e(t){var n,a,c=arguments;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=c.length>1&&void 0!==c[1]?c[1]:"$set",a="http://localhost:5000/api/update/"+s._id,fetch(a,{method:"PUT",headers:{Accept:"application/json","Content-Type":"application/json"},json:!0,mode:"cors",body:JSON.stringify({operation:n,attribute:t})}).then((function(e){return e.json()})).then((function(e){r(e.unit.value)}),(function(e){console.log("Error!")}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(f.jsx)(f.Fragment,{children:Object(f.jsxs)("div",{className:"row edit-unit",children:[Object(f.jsxs)("div",{children:[Object(f.jsx)("button",{className:"update-button",onClick:function(){return u(d+1)},children:Object(f.jsx)("h2",{children:s.name})}),Object(f.jsx)(te,{label:"Builds at: ",attributeValue:s.structure,updateFunction:function(e){return j({structure:e})},clicks:d}),Object(f.jsx)("h2",{children:"Types"}),Object(f.jsx)(se,{arr:s.types,updateFunction:j,prefix:"types.",clicks:d}),Object(f.jsxs)("div",{children:[Object(f.jsx)("h2",{children:"Base Stats"}),Object(f.jsx)(te,{label:"Health",attributeValue:s.base.health,updateFunction:function(e){return j({"base.health":parseInt(e)})},clicks:d}),Object(f.jsx)(te,{label:"Armor",attributeValue:s.base.armor,updateFunction:function(e){return j({"base.armor":parseInt(e)})},clicks:d}),s.base.shields?Object(f.jsx)(te,{label:"Shields",attributeValue:s.base.shields,updateFunction:function(e){return j({"base.shields":parseInt(e)})},clicks:d}):null]}),Object(f.jsxs)("div",{children:[Object(f.jsx)("h2",{children:"Image"}),Object(f.jsx)(te,{label:Object(f.jsx)("img",{src:s.img,style:{maxWidth:"150px"}}),attributeValue:s.img,updateFunction:function(e){return j({img:e})},clicks:d})]})]}),Object(f.jsxs)("div",{children:[Object(f.jsx)("h2",{children:"Attacks"}),s.attacks.map((function(e,t){return Object(f.jsx)("div",{children:Object(f.jsx)(ce,{attack:e,id:t,clicks:d,updateFunction:j})},t)}))]})]})})},ie=function(){var e=v(),t=Object(l.a)(e,2),n=t[0],a=t[1];return console.log("I'm rerunning the call"),Object(f.jsx)(f.Fragment,{children:Object(f.jsx)("div",{className:"container",children:n?null===a||void 0===a?void 0:a.sort((function(e,t){var n=e.name.toUpperCase(),a=t.name.toUpperCase();return n<a?-1:n>a?1:0})).map((function(e){return Object(f.jsxs)("div",{children:[" ",Object(f.jsx)(re,{og_unit:e})," "]},e._id)})):Object(f.jsx)(f.Fragment,{children:"wating for units to load "})})})},le=n(38),oe=n(4),de=function(){return Object(f.jsx)("div",{className:"App",children:Object(f.jsxs)("div",{className:"container middle",children:[Object(f.jsx)("h1",{children:" Purpose "}),Object(f.jsx)("div",{children:"Calculate the number of shots needed to take out a given unit. "}),Object(f.jsx)("h1",{children:"Usage"}),Object(f.jsxs)("ul",{children:[Object(f.jsx)("li",{children:"Select an attacker and defender."}),Object(f.jsx)("li",{children:"Select upgrades (if desired)."}),Object(f.jsx)("li",{children:"Select starting health/shields."})]}),Object(f.jsxs)("div",{children:["Calculations are based off ",Object(f.jsx)("a",{href:"https://liquipedia.net/starcraft2/Damage_Calculation#:~:text=Performing%20the%20Calculations%5Bedit%5D,*Splash*Hallucinated*Prismatic.&text=Defense%20Available%3A%20If%20the%20defender,Points%2C%20this%20equals%20Shield%20Defense.",children:"this resource"})]})]})})};r.a.render(Object(f.jsx)(c.a.StrictMode,{children:Object(f.jsxs)("div",{className:"wrapper",children:[Object(f.jsxs)("div",{className:"main-title",children:[Object(f.jsx)("div",{className:"title",children:Object(f.jsx)("a",{href:"/",children:"SC2 Monobattle Calculator"})}),Object(f.jsx)("div",{}),Object(f.jsx)("div",{})]}),Object(f.jsx)(le.a,{children:Object(f.jsxs)(oe.c,{children:[Object(f.jsx)(oe.a,{path:"/dash",children:Object(f.jsx)(ee,{})}),Object(f.jsx)(oe.a,{path:"/dashboard",children:Object(f.jsx)(ie,{})}),Object(f.jsx)(oe.a,{path:"/purpose",children:Object(f.jsx)(de,{})}),Object(f.jsx)(oe.a,{path:"/",children:Object(f.jsx)(X,{})})]})}),Object(f.jsx)("div",{className:"main-title",children:Object(f.jsxs)("div",{children:["Art Assets: ",Object(f.jsx)("a",{href:"https://www.youtube.com/user/CarbotAnimations",children:"Carbots"})," | ",Object(f.jsx)("a",{href:"https://starcraft2.com/en-us/",children:"StarCraft 2"})]})})]})}),document.getElementById("root"))}},[[77,1,2]]]);
//# sourceMappingURL=main.2cba73f4.chunk.js.map